<color=#75715e>/*-</color>
<color=#75715e> * Copyright (C) 2002, 2017, Oracle and/or its affiliates. All rights reserved.</color>
<color=#75715e> *</color>
<color=#75715e> * This file was distributed by Oracle as part of a version of Oracle Berkeley</color>
<color=#75715e> * DB Java Edition made available at:</color>
<color=#75715e> *</color>
<color=#75715e> * http://www.oracle.com/technetwork/database/database-technologies/berkeleydb/downloads/index.html</color>
<color=#75715e> *</color>
<color=#75715e> * Please see the LICENSE file included in the top-level directory of the</color>
<color=#75715e> * appropriate version of Oracle Berkeley DB Java Edition for a copy of the</color>
<color=#75715e> * license and additional information.</color>
<color=#75715e> */</color>

<color=#f92672>package</color> <color=#f8f8f2>com.sleepycat.je.jmx.plugin</color><color=#f8f8f2>;</color>

<color=#f92672>import</color> <color=#f8f8f2>sun.tools.jconsole.Plotter.Unit</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>sun.tools.jconsole.PlotterPanel</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>sun.tools.jconsole.TimeComboBox</color><color=#f8f8f2>;</color>

<color=#f92672>import</color> <color=#f8f8f2>javax.management.MBeanServerConnection</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>javax.management.ObjectName</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>javax.swing.*</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>javax.swing.filechooser.FileFilter</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>javax.swing.filechooser.FileNameExtensionFilter</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>javax.swing.table.AbstractTableModel</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>javax.swing.table.DefaultTableCellRenderer</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>java.awt.*</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>java.awt.event.*</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>java.io.File</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>java.io.FileWriter</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>java.io.IOException</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>java.util.List</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>java.util.Timer</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>java.util.*</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>java.util.concurrent.ConcurrentHashMap</color><color=#f8f8f2>;</color>
<color=#f92672>import</color> <color=#f8f8f2>java.util.concurrent.CopyOnWriteArrayList</color><color=#f8f8f2>;</color>

<color=#66d9ef>public</color> <color=#66d9ef>abstract</color> <color=#66d9ef>class</color> <color=#a6e22e>Stats</color> <color=#66d9ef>extends</color> <color=#f8f8f2>JPanel</color> <color=#f8f8f2>{</color>

  <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#66d9ef>long</color> <color=#f8f8f2>serialVersionUID</color> <color=#f92672>=</color> <color=#ae81ff>6041540234044035106L</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#f8f8f2>String</color> <color=#f8f8f2>STATS_COLLECTOR</color> <color=#f92672>=</color> <color=#e6db74>"JEMonitor Stats Collector"</color><color=#f8f8f2>;</color>

  <color=#66d9ef>private</color> <color=#66d9ef>boolean</color> <color=#f8f8f2>hideZeroValue</color> <color=#f92672>=</color> <color=#66d9ef>false</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#66d9ef>boolean</color> <color=#f8f8f2>doLog</color> <color=#f92672>=</color> <color=#66d9ef>false</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#66d9ef>int</color> <color=#f8f8f2>mBeansNum</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#66d9ef>int</color> <color=#f8f8f2>selectedRow</color> <color=#f92672>=</color> <color=#f92672>-</color><color=#ae81ff>1</color><color=#f8f8f2>;</color>

  <color=#66d9ef>private</color> <color=#66d9ef>long</color> <color=#f8f8f2>statsIntervalMillis</color> <color=#f92672>=</color> <color=#ae81ff>10000</color><color=#f8f8f2>;</color>

  <color=#75715e>/* Collection variables used in this file. */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>LogObject</color><color=#f92672>></color> <color=#f8f8f2>logMap</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>Boolean</color><color=#f92672>></color> <color=#f8f8f2>shownStats</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>>></color> <color=#f8f8f2>valueStore</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>List</color><color=#f92672><</color><color=#f8f8f2>GraphFrame</color><color=#f92672>></color> <color=#f8f8f2>frameList</color><color=#f8f8f2>;</color>
  <color=#66d9ef>protected</color> <color=#f8f8f2>TreeMap</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>ObjectName</color><color=#f92672>></color> <color=#f8f8f2>comboToObjects</color><color=#f8f8f2>;</color>

  <color=#75715e>/*</color>
<color=#75715e>   * Collections used to save Stats and ObjectNames for showing in tab.</color>
<color=#75715e>   * These values are set by the statsCollector Timer thread, and may</color>
<color=#75715e>   * be concurrently read by other threads, such as the JConsole refresh</color>
<color=#75715e>   * thread.</color>
<color=#75715e>   */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>>></color> <color=#f8f8f2>savedStats</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#66d9ef>volatile</color> <color=#f8f8f2>List</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f92672>></color> <color=#f8f8f2>savedObjectNames</color><color=#f8f8f2>;</color>

  <color=#75715e>/* Combo box for selecting a MBean. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>final</color> <color=#66d9ef>int</color> <color=#f8f8f2>mBeanComboBoxLength</color> <color=#f92672>=</color> <color=#ae81ff>50</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JComboBox</color> <color=#f8f8f2>mBeansComboBox</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>ActionListener</color> <color=#f8f8f2>mBeanComboBoxListener</color><color=#f8f8f2>;</color>

  <color=#75715e>/* Stats table settings. */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JCheckBox</color> <color=#f8f8f2>hideZeroValueBox</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JCheckBox</color> <color=#f8f8f2>cumulativeStatsBox</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JTextField</color> <color=#f8f8f2>statsIntervalText</color><color=#f8f8f2>;</color>

  <color=#75715e>/* Stats logging settings. */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JButton</color> <color=#f8f8f2>saveLogButton</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JButton</color> <color=#f8f8f2>startLogButton</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JButton</color> <color=#f8f8f2>stopLogButton</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>SaveLogFileChooser</color> <color=#f8f8f2>fileChooser</color><color=#f8f8f2>;</color>

  <color=#75715e>/* Stats table components. */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JTable</color> <color=#f8f8f2>statsTable</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>StatsTableModel</color> <color=#f8f8f2>statsModel</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JPopupMenu</color> <color=#f8f8f2>popup</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JCheckBoxMenuItem</color> <color=#f8f8f2>logMenuItem</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JMenuItem</color> <color=#f8f8f2>graphMenuItem</color><color=#f8f8f2>;</color>

  <color=#75715e>/* MBean related parameters, customized in subclasses. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>final</color> <color=#f8f8f2>Object</color><color=#f92672>[]</color> <color=#f8f8f2>envStatParams</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>Object</color><color=#f92672>[]</color> <color=#f8f8f2>{</color><color=#66d9ef>true</color> <color=#75715e>/* setClear */</color><color=#f8f8f2>,</color> <color=#66d9ef>true</color> <color=#75715e>/* setFast */</color><color=#f8f8f2>};</color>
  <color=#66d9ef>private</color> <color=#66d9ef>final</color> <color=#f8f8f2>String</color><color=#f92672>[]</color> <color=#f8f8f2>signature</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>String</color><color=#f92672>[]</color> <color=#f8f8f2>{</color><color=#e6db74>"java.lang.boolean"</color><color=#f8f8f2>,</color> <color=#e6db74>"java.lang.boolean"</color><color=#f8f8f2>};</color>
  <color=#66d9ef>protected</color> <color=#66d9ef>static</color> <color=#f8f8f2>MBeanServerConnection</color> <color=#f8f8f2>connection</color><color=#f8f8f2>;</color>
  <color=#66d9ef>protected</color> <color=#f8f8f2>String</color><color=#f92672>[]</color> <color=#f8f8f2>statsTitles</color><color=#f8f8f2>;</color>
  <color=#66d9ef>protected</color> <color=#f8f8f2>String</color> <color=#f8f8f2>opName</color><color=#f8f8f2>;</color>
  <color=#66d9ef>protected</color> <color=#f8f8f2>String</color> <color=#f8f8f2>mBeanNamePrefix</color><color=#f8f8f2>;</color>
  <color=#66d9ef>protected</color> <color=#f8f8f2>ObjectName</color> <color=#f8f8f2>objName</color><color=#f8f8f2>;</color>
  <color=#66d9ef>protected</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>tips</color><color=#f8f8f2>;</color>

  <color=#66d9ef>private</color> <color=#f8f8f2>Timer</color> <color=#f8f8f2>statsCollector</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#66d9ef>final</color> <color=#f8f8f2>TimerTask</color> <color=#f8f8f2>drawNewStats</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>StatsCollectionTask</color><color=#f8f8f2>(</color><color=#66d9ef>false</color><color=#f8f8f2>);</color>

  <color=#66d9ef>public</color> <color=#a6e22e>Stats</color><color=#f8f8f2>(</color><color=#f8f8f2>MBeanServerConnection</color> <color=#f8f8f2>connection</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>Stats</color><color=#f8f8f2>.</color><color=#a6e22e>connection</color> <color=#f92672>=</color> <color=#f8f8f2>connection</color><color=#f8f8f2>;</color>

    <color=#f8f8f2>setLayout</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>FlowLayout</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>ToolTipManager</color><color=#f8f8f2>.</color><color=#a6e22e>sharedInstance</color><color=#f8f8f2>().</color><color=#a6e22e>setDismissDelay</color><color=#f8f8f2>(</color><color=#ae81ff>10000</color><color=#f8f8f2>);</color>

    <color=#f8f8f2>initVariables</color><color=#f8f8f2>();</color>

    <color=#75715e>/* Initiate those containers. */</color>
    <color=#f8f8f2>initContainers</color><color=#f8f8f2>();</color>

    <color=#75715e>/* Create GUI components. */</color>
    <color=#f8f8f2>initGUIs</color><color=#f8f8f2>();</color>

    <color=#75715e>/* Start collecting stats. */</color>
    <color=#f8f8f2>statsCollector</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>Timer</color><color=#f8f8f2>(</color><color=#f8f8f2>STATS_COLLECTOR</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>statsCollector</color><color=#f8f8f2>.</color><color=#a6e22e>scheduleAtFixedRate</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>StatsCollectionTask</color><color=#f8f8f2>(),</color> <color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#f8f8f2>statsIntervalMillis</color><color=#f8f8f2>);</color>

    <color=#75715e>/* Draw the stats tab when the plugin is first started. */</color>
    <color=#f8f8f2>drawNewStats</color><color=#f8f8f2>.</color><color=#a6e22e>run</color><color=#f8f8f2>();</color>
  <color=#f8f8f2>}</color>

  <color=#66d9ef>public</color> <color=#f8f8f2>StatsTableModel</color> <color=#a6e22e>getTModel</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>return</color> <color=#f8f8f2>statsModel</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#66d9ef>protected</color> <color=#66d9ef>abstract</color> <color=#66d9ef>void</color> <color=#a6e22e>initVariables</color><color=#f8f8f2>();</color>

  <color=#66d9ef>protected</color> <color=#66d9ef>abstract</color> <color=#66d9ef>void</color> <color=#a6e22e>generateTips</color><color=#f8f8f2>();</color>

  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>initContainers</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>valueStore</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>HashMap</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>>></color><color=#f8f8f2>();</color>
    <color=#f8f8f2>logMap</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>HashMap</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>LogObject</color><color=#f92672>></color><color=#f8f8f2>();</color>
    <color=#f8f8f2>shownStats</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>HashMap</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>Boolean</color><color=#f92672>></color><color=#f8f8f2>();</color>
    <color=#f8f8f2>comboToObjects</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>TreeMap</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>ObjectName</color><color=#f92672>></color><color=#f8f8f2>();</color>
    <color=#f8f8f2>frameList</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>GraphFrame</color><color=#f92672>></color><color=#f8f8f2>();</color>

    <color=#f8f8f2>savedStats</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>ConcurrentHashMap</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>>></color><color=#f8f8f2>();</color>
    <color=#f8f8f2>savedObjectNames</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f92672>></color><color=#f8f8f2>();</color>

    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>ObjectName</color> <color=#f8f8f2>name</color> <color=#f8f8f2>:</color> <color=#f8f8f2>getBeansNames</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>storeMap</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>LinkedHashMap</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color><color=#f8f8f2>();</color>
      <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>map</color> <color=#f92672>=</color> <color=#f8f8f2>generateStats</color><color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>);</color>
      <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>entry</color> <color=#f8f8f2>:</color> <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>entrySet</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>String</color> <color=#f8f8f2>key</color> <color=#f92672>=</color> <color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>();</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>key</color><color=#f8f8f2>.</color><color=#a6e22e>contains</color><color=#f8f8f2>(</color><color=#e6db74>":"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>storeMap</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>key</color><color=#f8f8f2>.</color><color=#a6e22e>substring</color><color=#f8f8f2>(</color><color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#f8f8f2>key</color><color=#f8f8f2>.</color><color=#a6e22e>indexOf</color><color=#f8f8f2>(</color><color=#e6db74>":"</color><color=#f8f8f2>)),</color> <color=#e6db74>"0"</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>}</color> <color=#66d9ef>else</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>storeMap</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>key</color><color=#f8f8f2>,</color> <color=#e6db74>"0"</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
      <color=#f8f8f2>valueStore</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>,</color> <color=#f8f8f2>storeMap</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>,</color> <color=#66d9ef>new</color> <color=#f8f8f2>LogObject</color><color=#f8f8f2>());</color>
      <color=#f8f8f2>comboToObjects</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>getMBeanComboBoxString</color><color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>),</color> <color=#f8f8f2>name</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#66d9ef>int</color> <color=#f8f8f2>i</color> <color=#f92672>=</color> <color=#ae81ff>0</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color> <color=#f92672><</color> <color=#f8f8f2>statsTitles</color><color=#f8f8f2>.</color><color=#a6e22e>length</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color><color=#f92672>++</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>shownStats</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>statsTitles</color><color=#f92672>[</color><color=#f8f8f2>i</color><color=#f92672>]</color><color=#f8f8f2>,</color> <color=#66d9ef>true</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>this</color><color=#f8f8f2>.</color><color=#a6e22e>objName</color> <color=#f92672>=</color> <color=#f8f8f2>getFirstObjectName</color><color=#f8f8f2>();</color>
    <color=#66d9ef>this</color><color=#f8f8f2>.</color><color=#a6e22e>mBeansNum</color> <color=#f92672>=</color> <color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>();</color>

    <color=#f8f8f2>generateTips</color><color=#f8f8f2>();</color>
  <color=#f8f8f2>}</color>

  <color=#66d9ef>private</color> <color=#f8f8f2>ObjectName</color> <color=#a6e22e>getFirstObjectName</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>return</color> <color=#f8f8f2>comboToObjects</color><color=#f8f8f2>.</color><color=#a6e22e>firstEntry</color><color=#f8f8f2>().</color><color=#a6e22e>getValue</color><color=#f8f8f2>();</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Update the tips to html format suitable. */</color>
  <color=#66d9ef>protected</color> <color=#66d9ef>void</color> <color=#a6e22e>updateTips</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>entry</color> <color=#f8f8f2>:</color> <color=#f8f8f2>tips</color><color=#f8f8f2>.</color><color=#a6e22e>entrySet</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>String</color> <color=#f8f8f2>value</color> <color=#f92672>=</color> <color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getValue</color><color=#f8f8f2>();</color>
      <color=#f8f8f2>String</color> <color=#f8f8f2>formatStr</color> <color=#f92672>=</color> <color=#e6db74>""</color><color=#f8f8f2>;</color>
      <color=#66d9ef>boolean</color> <color=#f8f8f2>stop</color> <color=#f92672>=</color> <color=#66d9ef>false</color><color=#f8f8f2>;</color>
      <color=#66d9ef>while</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>stop</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>length</color><color=#f8f8f2>()</color> <color=#f92672><=</color> <color=#ae81ff>80</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>stop</color> <color=#f92672>=</color> <color=#66d9ef>true</color><color=#f8f8f2>;</color>
          <color=#f8f8f2>formatStr</color> <color=#f92672>+=</color> <color=#f8f8f2>value</color><color=#f8f8f2>;</color>
        <color=#f8f8f2>}</color> <color=#66d9ef>else</color> <color=#f8f8f2>{</color>
          <color=#66d9ef>int</color> <color=#f8f8f2>endIndex</color> <color=#f92672>=</color> <color=#ae81ff>79</color><color=#f8f8f2>;</color>
          <color=#f8f8f2>String</color> <color=#f8f8f2>phrase</color> <color=#f92672>=</color> <color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>substring</color><color=#f8f8f2>(</color><color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#f8f8f2>endIndex</color><color=#f8f8f2>);</color>
          <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>phrase</color><color=#f8f8f2>.</color><color=#a6e22e>endsWith</color><color=#f8f8f2>(</color><color=#e6db74>" "</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
            <color=#f8f8f2>endIndex</color> <color=#f92672>=</color> <color=#f8f8f2>phrase</color><color=#f8f8f2>.</color><color=#a6e22e>lastIndexOf</color><color=#f8f8f2>(</color><color=#e6db74>" "</color><color=#f8f8f2>);</color>
          <color=#f8f8f2>}</color>
          <color=#f8f8f2>formatStr</color> <color=#f92672>+=</color> <color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>substring</color><color=#f8f8f2>(</color><color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#f8f8f2>endIndex</color><color=#f8f8f2>)</color> <color=#f92672>+</color> <color=#e6db74>"<br>"</color><color=#f8f8f2>;</color>
          <color=#f8f8f2>value</color> <color=#f92672>=</color> <color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>substring</color><color=#f8f8f2>(</color><color=#f8f8f2>endIndex</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
      <color=#f8f8f2>formatStr</color> <color=#f92672>=</color> <color=#e6db74>"<html>"</color> <color=#f92672>+</color> <color=#f8f8f2>formatStr</color> <color=#f92672>+</color> <color=#e6db74>"</html>"</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>tips</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>(),</color> <color=#f8f8f2>formatStr</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>initGUIs</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#75715e>/* panel for selecting a specific environment. */</color>
    <color=#f8f8f2>JPanel</color> <color=#f8f8f2>mBeanPanel</color> <color=#f92672>=</color> <color=#f8f8f2>createMBeanPanel</color><color=#f8f8f2>();</color>
    <color=#75715e>/* panel for stat settings. */</color>
    <color=#f8f8f2>JPanel</color> <color=#f8f8f2>setPanel</color> <color=#f92672>=</color> <color=#f8f8f2>createSettingPanel</color><color=#f8f8f2>();</color>
    <color=#75715e>/* controls for logging stats to a file. */</color>
    <color=#f8f8f2>JPanel</color> <color=#f8f8f2>logPanel</color> <color=#f92672>=</color> <color=#f8f8f2>createLogPanel</color><color=#f8f8f2>();</color>
    <color=#75715e>/* display of stats values. */</color>
    <color=#f8f8f2>JPanel</color> <color=#f8f8f2>statsPanel</color> <color=#f92672>=</color> <color=#f8f8f2>createStatsPanel</color><color=#f8f8f2>();</color>

    <color=#f8f8f2>createMenu</color><color=#f8f8f2>();</color>

    <color=#f8f8f2>add</color><color=#f8f8f2>(</color><color=#f8f8f2>mBeanPanel</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>add</color><color=#f8f8f2>(</color><color=#f8f8f2>setPanel</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>add</color><color=#f8f8f2>(</color><color=#f8f8f2>logPanel</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>add</color><color=#f8f8f2>(</color><color=#f8f8f2>statsPanel</color><color=#f8f8f2>);</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Create the GUI Setting part. */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JPanel</color> <color=#a6e22e>createMBeanPanel</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>mBeansComboBox</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JComboBox</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>mBeansComboBox</color><color=#f8f8f2>.</color><color=#a6e22e>setPrototypeDisplayValue</color><color=#f8f8f2>(</color><color=#f8f8f2>generateString</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>mBeanComboBoxListener</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>BeanComboBoxListener</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>initMBeanComboBox</color><color=#f8f8f2>(</color><color=#f8f8f2>getBeansNames</color><color=#f8f8f2>());</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>generatePanel</color><color=#f8f8f2>(</color>
        <color=#66d9ef>new</color> <color=#f8f8f2>JComponent</color><color=#f92672>[]</color> <color=#f8f8f2>{</color><color=#66d9ef>new</color> <color=#f8f8f2>JLabel</color><color=#f8f8f2>(</color><color=#e6db74>"Choose JE Environment:"</color><color=#f8f8f2>),</color> <color=#f8f8f2>mBeansComboBox</color><color=#f8f8f2>},</color>
        <color=#66d9ef>new</color> <color=#f8f8f2>FlowLayout</color><color=#f8f8f2>(),</color>
        <color=#e6db74>"Choose JE MBean"</color><color=#f8f8f2>);</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Fill MBeanComboBox with blank spaces if MBean name is too short. */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>String</color> <color=#a6e22e>generateString</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>String</color> <color=#f8f8f2>length</color> <color=#f92672>=</color> <color=#e6db74>""</color><color=#f8f8f2>;</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#66d9ef>int</color> <color=#f8f8f2>i</color> <color=#f92672>=</color> <color=#ae81ff>0</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color> <color=#f92672><</color> <color=#f8f8f2>mBeanComboBoxLength</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color><color=#f92672>++</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>length</color> <color=#f92672>+=</color> <color=#e6db74>"X"</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>length</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Initialize the contents of the mbean combobox. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>initMBeanComboBox</color><color=#f8f8f2>(</color><color=#f8f8f2>List</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f92672>></color> <color=#f8f8f2>names</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#75715e>/* If the number of MBeans changes, update the map also. */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>names</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>!=</color> <color=#f8f8f2>comboToObjects</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>comboToObjects</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>TreeMap</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>ObjectName</color><color=#f92672>></color><color=#f8f8f2>();</color>
      <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>ObjectName</color> <color=#f8f8f2>name</color> <color=#f8f8f2>:</color> <color=#f8f8f2>names</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>comboToObjects</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>getMBeanComboBoxString</color><color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>),</color> <color=#f8f8f2>name</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>ObjectName</color><color=#f92672>></color> <color=#f8f8f2>entry</color> <color=#f8f8f2>:</color> <color=#f8f8f2>comboToObjects</color><color=#f8f8f2>.</color><color=#a6e22e>entrySet</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>mBeansComboBox</color><color=#f8f8f2>.</color><color=#a6e22e>addItem</color><color=#f8f8f2>(</color><color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>}</color>
    <color=#f8f8f2>mBeansComboBox</color><color=#f8f8f2>.</color><color=#a6e22e>setSelectedIndex</color><color=#f8f8f2>(</color><color=#ae81ff>0</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>mBeansComboBox</color><color=#f8f8f2>.</color><color=#a6e22e>addActionListener</color><color=#f8f8f2>(</color><color=#f8f8f2>mBeanComboBoxListener</color><color=#f8f8f2>);</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Return the MBean name to display in the mBeanComboBox. */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>String</color> <color=#a6e22e>getMBeanComboBoxString</color><color=#f8f8f2>(</color><color=#f8f8f2>ObjectName</color> <color=#f8f8f2>name</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>String</color> <color=#f8f8f2>envHome</color> <color=#f92672>=</color>
        <color=#f8f8f2>name</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>().</color><color=#a6e22e>substring</color><color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>().</color><color=#a6e22e>indexOf</color><color=#f8f8f2>(</color><color=#e6db74>"("</color><color=#f8f8f2>)</color> <color=#f92672>+</color> <color=#ae81ff>1</color><color=#f8f8f2>,</color> <color=#f8f8f2>name</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>().</color><color=#a6e22e>length</color><color=#f8f8f2>()</color> <color=#f92672>-</color> <color=#ae81ff>1</color><color=#f8f8f2>);</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>envHome</color><color=#f8f8f2>.</color><color=#a6e22e>length</color><color=#f8f8f2>()</color> <color=#f92672>></color> <color=#ae81ff>40</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>envHome</color> <color=#f92672>=</color>
          <color=#f8f8f2>envHome</color><color=#f8f8f2>.</color><color=#a6e22e>substring</color><color=#f8f8f2>(</color><color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#ae81ff>19</color><color=#f8f8f2>)</color>
              <color=#f92672>+</color> <color=#e6db74>"..."</color>
              <color=#f92672>+</color> <color=#f8f8f2>envHome</color><color=#f8f8f2>.</color><color=#a6e22e>substring</color><color=#f8f8f2>(</color><color=#f8f8f2>envHome</color><color=#f8f8f2>.</color><color=#a6e22e>length</color><color=#f8f8f2>()</color> <color=#f92672>-</color> <color=#ae81ff>20</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>envHome</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Create the stats setting panel. */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JPanel</color> <color=#a6e22e>createSettingPanel</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>cumulativeStatsBox</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JCheckBox</color><color=#f8f8f2>(</color><color=#e6db74>"Display cumulative stats"</color><color=#f8f8f2>,</color> <color=#66d9ef>false</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>cumulativeStatsBox</color><color=#f8f8f2>.</color><color=#a6e22e>addActionListener</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>ClearStatsBoxListener</color><color=#f8f8f2>());</color>

    <color=#f8f8f2>hideZeroValueBox</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JCheckBox</color><color=#f8f8f2>(</color><color=#e6db74>"Hide zero values"</color><color=#f8f8f2>,</color> <color=#66d9ef>false</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>hideZeroValueBox</color><color=#f8f8f2>.</color><color=#a6e22e>addActionListener</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>HideZeroValueBoxListener</color><color=#f8f8f2>());</color>

    <color=#f8f8f2>statsIntervalText</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JTextField</color><color=#f8f8f2>(</color><color=#e6db74>"10"</color><color=#f8f8f2>,</color> <color=#ae81ff>4</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>statsIntervalText</color><color=#f8f8f2>.</color><color=#a6e22e>addKeyListener</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>StatsIntervalListener</color><color=#f8f8f2>());</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>generatePanel</color><color=#f8f8f2>(</color>
        <color=#66d9ef>new</color> <color=#f8f8f2>JComponent</color><color=#f92672>[]</color> <color=#f8f8f2>{</color>
          <color=#66d9ef>new</color> <color=#f8f8f2>JLabel</color><color=#f8f8f2>(</color><color=#e6db74>"Collection interval (secs):"</color><color=#f8f8f2>),</color>
          <color=#f8f8f2>statsIntervalText</color><color=#f8f8f2>,</color>
          <color=#f8f8f2>cumulativeStatsBox</color><color=#f8f8f2>,</color>
          <color=#f8f8f2>hideZeroValueBox</color>
        <color=#f8f8f2>},</color>
        <color=#66d9ef>new</color> <color=#f8f8f2>FlowLayout</color><color=#f8f8f2>(),</color>
        <color=#e6db74>"Settings"</color><color=#f8f8f2>);</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Create the log setting panel. */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JPanel</color> <color=#a6e22e>createLogPanel</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>startLogButton</color> <color=#f92672>=</color> <color=#f8f8f2>createButton</color><color=#f8f8f2>(</color><color=#e6db74>"Start Recording"</color><color=#f8f8f2>,</color> <color=#66d9ef>new</color> <color=#f8f8f2>StartLogListener</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>startLogButton</color><color=#f8f8f2>.</color><color=#a6e22e>setEnabled</color><color=#f8f8f2>(</color><color=#66d9ef>false</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>stopLogButton</color> <color=#f92672>=</color> <color=#f8f8f2>createButton</color><color=#f8f8f2>(</color><color=#e6db74>"Stop Recording"</color><color=#f8f8f2>,</color> <color=#66d9ef>new</color> <color=#f8f8f2>StopLogListener</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>stopLogButton</color><color=#f8f8f2>.</color><color=#a6e22e>setEnabled</color><color=#f8f8f2>(</color><color=#66d9ef>false</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>saveLogButton</color> <color=#f92672>=</color> <color=#f8f8f2>createButton</color><color=#f8f8f2>(</color><color=#e6db74>"Record Statistics To ..."</color><color=#f8f8f2>,</color> <color=#66d9ef>new</color> <color=#f8f8f2>SaveLogListener</color><color=#f8f8f2>(</color><color=#66d9ef>this</color><color=#f8f8f2>));</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>generatePanel</color><color=#f8f8f2>(</color>
        <color=#66d9ef>new</color> <color=#f8f8f2>JComponent</color><color=#f92672>[]</color> <color=#f8f8f2>{</color><color=#f8f8f2>startLogButton</color><color=#f8f8f2>,</color> <color=#f8f8f2>stopLogButton</color><color=#f8f8f2>,</color> <color=#f8f8f2>saveLogButton</color><color=#f8f8f2>},</color>
        <color=#66d9ef>new</color> <color=#f8f8f2>FlowLayout</color><color=#f8f8f2>(),</color>
        <color=#e6db74>"Record Statistics"</color><color=#f8f8f2>);</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Create Table Panel. */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JPanel</color> <color=#a6e22e>createStatsPanel</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#75715e>/* Create the stats type choosen panel. */</color>
    <color=#f8f8f2>JPanel</color> <color=#f8f8f2>leftPanel</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JPanel</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>leftPanel</color><color=#f8f8f2>.</color><color=#a6e22e>setLayout</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>GridLayout</color><color=#f8f8f2>(</color><color=#ae81ff>15</color><color=#f8f8f2>,</color> <color=#ae81ff>1</color><color=#f8f8f2>));</color>
    <color=#f8f8f2>leftPanel</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>JLabel</color><color=#f8f8f2>(</color><color=#e6db74>"  Stats to Display"</color><color=#f8f8f2>));</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#66d9ef>int</color> <color=#f8f8f2>i</color> <color=#f92672>=</color> <color=#ae81ff>0</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color> <color=#f92672><</color> <color=#f8f8f2>statsTitles</color><color=#f8f8f2>.</color><color=#a6e22e>length</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color><color=#f92672>++</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>createCheckBox</color><color=#f8f8f2>(</color><color=#f8f8f2>statsTitles</color><color=#f92672>[</color><color=#f8f8f2>i</color><color=#f92672>]</color><color=#f8f8f2>,</color> <color=#f8f8f2>leftPanel</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>
    <color=#f8f8f2>JScrollPane</color> <color=#f8f8f2>left</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JScrollPane</color><color=#f8f8f2>(</color><color=#f8f8f2>leftPanel</color><color=#f8f8f2>);</color>

    <color=#75715e>/* Add JE stats table. */</color>
    <color=#f8f8f2>statsModel</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>StatsTableModel</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>statsTable</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JTable</color><color=#f8f8f2>(</color><color=#f8f8f2>statsModel</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>setSelectionMode</color><color=#f8f8f2>(</color><color=#f8f8f2>ListSelectionModel</color><color=#f8f8f2>.</color><color=#a6e22e>SINGLE_SELECTION</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>setDefaultRenderer</color><color=#f8f8f2>(</color><color=#f8f8f2>String</color><color=#f8f8f2>.</color><color=#a6e22e>class</color><color=#f8f8f2>,</color> <color=#66d9ef>new</color> <color=#f8f8f2>StringRenderer</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>setIntercellSpacing</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>Dimension</color><color=#f8f8f2>(</color><color=#ae81ff>6</color><color=#f8f8f2>,</color> <color=#ae81ff>3</color><color=#f8f8f2>));</color>
    <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>setRowHeight</color><color=#f8f8f2>(</color><color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>getRowHeight</color><color=#f8f8f2>()</color> <color=#f92672>+</color> <color=#ae81ff>4</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>addMouseListener</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>TableMouseListener</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>addMouseMotionListener</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>TableMouseMotionListener</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>JScrollPane</color> <color=#f8f8f2>right</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JScrollPane</color><color=#f8f8f2>(</color><color=#f8f8f2>statsTable</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>right</color><color=#f8f8f2>.</color><color=#a6e22e>setAlignmentX</color><color=#f8f8f2>(</color><color=#f8f8f2>Component</color><color=#f8f8f2>.</color><color=#a6e22e>CENTER_ALIGNMENT</color><color=#f8f8f2>);</color>

    <color=#f8f8f2>JSplitPane</color> <color=#f8f8f2>splitPane</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JSplitPane</color><color=#f8f8f2>(</color><color=#f8f8f2>JSplitPane</color><color=#f8f8f2>.</color><color=#a6e22e>HORIZONTAL_SPLIT</color><color=#f8f8f2>,</color> <color=#f8f8f2>left</color><color=#f8f8f2>,</color> <color=#f8f8f2>right</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>splitPane</color><color=#f8f8f2>.</color><color=#a6e22e>setOneTouchExpandable</color><color=#f8f8f2>(</color><color=#66d9ef>true</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>splitPane</color><color=#f8f8f2>.</color><color=#a6e22e>setResizeWeight</color><color=#f8f8f2>(</color><color=#ae81ff>0.3</color><color=#f8f8f2>);</color>

    <color=#75715e>/* Add table to a panel and set the layout. */</color>
    <color=#66d9ef>return</color> <color=#f8f8f2>generatePanel</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>JComponent</color><color=#f92672>[]</color> <color=#f8f8f2>{</color><color=#f8f8f2>splitPane</color><color=#f8f8f2>},</color> <color=#66d9ef>new</color> <color=#f8f8f2>FlowLayout</color><color=#f8f8f2>(),</color> <color=#e6db74>"JE Stats Table"</color><color=#f8f8f2>);</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Create the pop up menu for the stats shown table. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>createMenu</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>popup</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JPopupMenu</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>logMenuItem</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JCheckBoxMenuItem</color><color=#f8f8f2>(</color><color=#e6db74>"Log This Stat"</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>logMenuItem</color><color=#f8f8f2>.</color><color=#a6e22e>addActionListener</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>LogMenuListener</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>popup</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#f8f8f2>logMenuItem</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>graphMenuItem</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JMenuItem</color><color=#f8f8f2>(</color><color=#e6db74>"Graph This Stat"</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>graphMenuItem</color><color=#f8f8f2>.</color><color=#a6e22e>addActionListener</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>GraphMenuListener</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>popup</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#f8f8f2>graphMenuItem</color><color=#f8f8f2>);</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Create CheckBox for choosing shown stats. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>createCheckBox</color><color=#f8f8f2>(</color><color=#f8f8f2>String</color> <color=#f8f8f2>title</color><color=#f8f8f2>,</color> <color=#f8f8f2>JPanel</color> <color=#f8f8f2>container</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>JCheckBox</color> <color=#f8f8f2>checkBox</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JCheckBox</color><color=#f8f8f2>(</color><color=#f8f8f2>title</color><color=#f8f8f2>,</color> <color=#66d9ef>true</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>checkBox</color><color=#f8f8f2>.</color><color=#a6e22e>addActionListener</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>StatsTypeListener</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>container</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#f8f8f2>checkBox</color><color=#f8f8f2>);</color>
  <color=#f8f8f2>}</color>

  <color=#66d9ef>private</color> <color=#f8f8f2>JButton</color> <color=#a6e22e>createButton</color><color=#f8f8f2>(</color><color=#f8f8f2>String</color> <color=#f8f8f2>text</color><color=#f8f8f2>,</color> <color=#f8f8f2>ActionListener</color> <color=#f8f8f2>listener</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>JButton</color> <color=#f8f8f2>button</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JButton</color><color=#f8f8f2>(</color><color=#f8f8f2>text</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>button</color><color=#f8f8f2>.</color><color=#a6e22e>addActionListener</color><color=#f8f8f2>(</color><color=#f8f8f2>listener</color><color=#f8f8f2>);</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>button</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/*</color>
<color=#75715e>   * Add provided components to a panel using assigned layout</color>
<color=#75715e>   * with a broder surrounded.</color>
<color=#75715e>   */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>JPanel</color> <color=#a6e22e>generatePanel</color><color=#f8f8f2>(</color><color=#f8f8f2>JComponent</color><color=#f92672>[]</color> <color=#f8f8f2>components</color><color=#f8f8f2>,</color> <color=#f8f8f2>LayoutManager</color> <color=#f8f8f2>layout</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color> <color=#f8f8f2>panelName</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>JPanel</color> <color=#f8f8f2>panel</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JPanel</color><color=#f8f8f2>(</color><color=#f8f8f2>layout</color><color=#f8f8f2>);</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>JComponent</color> <color=#f8f8f2>component</color> <color=#f8f8f2>:</color> <color=#f8f8f2>components</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>panel</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#f8f8f2>component</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/* If the panelName is none, then no border would be added. */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#e6db74>"none"</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#f8f8f2>panelName</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>panel</color><color=#f8f8f2>.</color><color=#a6e22e>setBorder</color><color=#f8f8f2>(</color>
          <color=#f8f8f2>BorderFactory</color><color=#f8f8f2>.</color><color=#a6e22e>createCompoundBorder</color><color=#f8f8f2>(</color>
              <color=#f8f8f2>BorderFactory</color><color=#f8f8f2>.</color><color=#a6e22e>createTitledBorder</color><color=#f8f8f2>(</color><color=#f8f8f2>panelName</color><color=#f8f8f2>),</color>
              <color=#f8f8f2>BorderFactory</color><color=#f8f8f2>.</color><color=#a6e22e>createEmptyBorder</color><color=#f8f8f2>(</color><color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>)));</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>panel</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Set the connection for this plugin. */</color>
  <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>setConnection</color><color=#f8f8f2>(</color><color=#f8f8f2>MBeanServerConnection</color> <color=#f8f8f2>connection</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>Stats</color><color=#f8f8f2>.</color><color=#a6e22e>connection</color> <color=#f92672>=</color> <color=#f8f8f2>connection</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Get the connection to the MBeanServer. */</color>
  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#f8f8f2>MBeanServerConnection</color> <color=#a6e22e>getConnection</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>return</color> <color=#f8f8f2>connection</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Remove a GraphFrame from the list and release the resouces. */</color>
  <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>removeGraphFrame</color><color=#f8f8f2>(</color><color=#f8f8f2>ObjectName</color> <color=#f8f8f2>beanName</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color> <color=#f8f8f2>graphStats</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>CopyOnWriteArrayList</color><color=#f92672><</color><color=#f8f8f2>GraphFrame</color><color=#f92672>></color> <color=#f8f8f2>list</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>CopyOnWriteArrayList</color><color=#f92672><</color><color=#f8f8f2>GraphFrame</color><color=#f92672>></color><color=#f8f8f2>(</color><color=#f8f8f2>frameList</color><color=#f8f8f2>);</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>GraphFrame</color> <color=#f8f8f2>frame</color> <color=#f8f8f2>:</color> <color=#f8f8f2>list</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>frame</color><color=#f8f8f2>.</color><color=#a6e22e>getBeanName</color><color=#f8f8f2>().</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#f8f8f2>beanName</color><color=#f8f8f2>)</color> <color=#f92672>&&</color> <color=#f8f8f2>frame</color><color=#f8f8f2>.</color><color=#a6e22e>getStatsName</color><color=#f8f8f2>().</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#f8f8f2>graphStats</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>frameList</color><color=#f8f8f2>.</color><color=#a6e22e>remove</color><color=#f8f8f2>(</color><color=#f8f8f2>frame</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>frame</color> <color=#f92672>=</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Get results for table stats. */</color>
  <color=#66d9ef>public</color> <color=#66d9ef>synchronized</color> <color=#f8f8f2>List</color><color=#f92672><</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>>></color> <color=#a6e22e>getResultsList</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>savedObjectNames</color> <color=#f92672>==</color> <color=#66d9ef>null</color> <color=#f92672>||</color> <color=#f8f8f2>savedObjectNames</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>==</color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/* Refresh the table if there is an MBean change. */</color>
    <color=#f8f8f2>repaintComboBox</color><color=#f8f8f2>(</color><color=#f8f8f2>savedObjectNames</color><color=#f8f8f2>);</color>

    <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>displayStats</color> <color=#f92672>=</color> <color=#f8f8f2>savedStats</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>objName</color><color=#f8f8f2>);</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>displayStats</color> <color=#f92672>==</color> <color=#66d9ef>null</color> <color=#f92672>||</color> <color=#f8f8f2>displayStats</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>==</color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/* Remove the those stats we don't want to show on table. */</color>
    <color=#f8f8f2>removeUnShownTypeStats</color><color=#f8f8f2>(</color><color=#f8f8f2>displayStats</color><color=#f8f8f2>);</color>

    <color=#75715e>/* Hide zero values if we choose to hide them. */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>hideZeroValue</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>hideZeroValues</color><color=#f8f8f2>(</color><color=#f8f8f2>displayStats</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/* If no stats are removed from shown, add a null stats on table. */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>displayStats</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>==</color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>displayStats</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#e6db74>"No Stats"</color><color=#f8f8f2>,</color> <color=#e6db74>""</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#f8f8f2>List</color><color=#f92672><</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>>></color> <color=#f8f8f2>list</color> <color=#f92672>=</color>
        <color=#66d9ef>new</color> <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>>></color><color=#f8f8f2>(</color><color=#f8f8f2>displayStats</color><color=#f8f8f2>.</color><color=#a6e22e>entrySet</color><color=#f8f8f2>());</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>list</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/*</color>
<color=#75715e>   * Go through the stats map to remove those stats which belongs to the</color>
<color=#75715e>   * unshown types chosen by users.</color>
<color=#75715e>   */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>removeUnShownTypeStats</color><color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>map</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>Object</color><color=#f92672>[]</color> <color=#f8f8f2>keys</color> <color=#f92672>=</color> <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>keySet</color><color=#f8f8f2>().</color><color=#a6e22e>toArray</color><color=#f8f8f2>();</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>Boolean</color><color=#f92672>></color> <color=#f8f8f2>stats</color> <color=#f8f8f2>:</color> <color=#f8f8f2>shownStats</color><color=#f8f8f2>.</color><color=#a6e22e>entrySet</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>

      <color=#75715e>/* If the stats is not chosen, remove it from map. */</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>stats</color><color=#f8f8f2>.</color><color=#a6e22e>getValue</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Object</color> <color=#f8f8f2>key</color> <color=#f8f8f2>:</color> <color=#f8f8f2>keys</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>key</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>().</color><color=#a6e22e>contains</color><color=#f8f8f2>(</color><color=#f8f8f2>stats</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>()))</color> <color=#f8f8f2>{</color>
            <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>remove</color><color=#f8f8f2>(</color><color=#f8f8f2>key</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>());</color>
          <color=#f8f8f2>}</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>
    <color=#f8f8f2>emptyArray</color><color=#f8f8f2>(</color><color=#f8f8f2>keys</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>keys</color> <color=#f92672>=</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Empty the array to release the resources it requires. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>void</color> <color=#a6e22e>emptyArray</color><color=#f8f8f2>(</color><color=#f8f8f2>Object</color><color=#f92672>[]</color> <color=#f8f8f2>array</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#66d9ef>int</color> <color=#f8f8f2>i</color> <color=#f92672>=</color> <color=#ae81ff>0</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color> <color=#f92672><</color> <color=#f8f8f2>array</color><color=#f8f8f2>.</color><color=#a6e22e>length</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color><color=#f92672>++</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>array</color><color=#f92672>[</color><color=#f8f8f2>i</color><color=#f92672>]</color> <color=#f92672>=</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/*</color>
<color=#75715e>   * Hide zero values from the stats table, if all stats belongs to a type</color>
<color=#75715e>   * are all zero values, then the whole type would remove from table,</color>
<color=#75715e>   * including the stats title, like: Compression stats, etc.</color>
<color=#75715e>   */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>hideZeroValues</color><color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>map</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>Object</color><color=#f92672>[]</color> <color=#f8f8f2>keys</color> <color=#f92672>=</color> <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>keySet</color><color=#f8f8f2>().</color><color=#a6e22e>toArray</color><color=#f8f8f2>();</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>Boolean</color><color=#f92672>></color> <color=#f8f8f2>entry</color> <color=#f8f8f2>:</color> <color=#f8f8f2>shownStats</color><color=#f8f8f2>.</color><color=#a6e22e>entrySet</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>boolean</color> <color=#f8f8f2>deleteAll</color> <color=#f92672>=</color> <color=#66d9ef>true</color><color=#f8f8f2>;</color>
      <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Object</color> <color=#f8f8f2>key</color> <color=#f8f8f2>:</color> <color=#f8f8f2>keys</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>String</color> <color=#f8f8f2>value</color> <color=#f92672>=</color> <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>key</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>());</color>
        <color=#75715e>/* Ensure we are operating on a non-deleted stat. */</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>key</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>().</color><color=#a6e22e>contains</color><color=#f8f8f2>(</color><color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>())</color> <color=#f92672>&&</color> <color=#f8f8f2>value</color> <color=#f92672>!=</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>(</color><color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>""</color><color=#f8f8f2>)))</color> <color=#f8f8f2>{</color>
            <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"0"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
              <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>remove</color><color=#f8f8f2>(</color><color=#f8f8f2>key</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>());</color>
            <color=#f8f8f2>}</color> <color=#66d9ef>else</color> <color=#f8f8f2>{</color>
              <color=#f8f8f2>deleteAll</color> <color=#f92672>=</color> <color=#66d9ef>false</color><color=#f8f8f2>;</color>
            <color=#f8f8f2>}</color>
          <color=#f8f8f2>}</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>deleteAll</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>remove</color><color=#f8f8f2>(</color><color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>());</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>
    <color=#f8f8f2>emptyArray</color><color=#f8f8f2>(</color><color=#f8f8f2>keys</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>keys</color> <color=#f92672>=</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Get results of the invoked MBean operation. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>synchronized</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#a6e22e>generateStats</color><color=#f8f8f2>(</color><color=#f8f8f2>ObjectName</color> <color=#f8f8f2>name</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>map</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>LinkedHashMap</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color><color=#f8f8f2>();</color>
    <color=#66d9ef>try</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>connection</color> <color=#f92672>!=</color> <color=#66d9ef>null</color> <color=#f92672>&&</color> <color=#f8f8f2>connection</color><color=#f8f8f2>.</color><color=#a6e22e>queryNames</color><color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>,</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f92672>!=</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>String</color> <color=#f8f8f2>status</color> <color=#f92672>=</color> <color=#f8f8f2>(</color><color=#f8f8f2>String</color><color=#f8f8f2>)</color> <color=#f8f8f2>connection</color><color=#f8f8f2>.</color><color=#a6e22e>invoke</color><color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>,</color> <color=#f8f8f2>opName</color><color=#f8f8f2>,</color> <color=#f8f8f2>envStatParams</color><color=#f8f8f2>,</color> <color=#f8f8f2>signature</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>StringTokenizer</color> <color=#f8f8f2>st1</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>StringTokenizer</color><color=#f8f8f2>(</color><color=#f8f8f2>status</color><color=#f8f8f2>,</color> <color=#e6db74>"\n"</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>String</color> <color=#f8f8f2>title</color> <color=#f92672>=</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
        <color=#66d9ef>while</color> <color=#f8f8f2>(</color><color=#f8f8f2>st1</color><color=#f8f8f2>.</color><color=#a6e22e>hasMoreTokens</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>String</color> <color=#f8f8f2>expression</color> <color=#f92672>=</color> <color=#f8f8f2>st1</color><color=#f8f8f2>.</color><color=#a6e22e>nextToken</color><color=#f8f8f2>();</color>
          <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>expression</color> <color=#f92672>!=</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
            <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>expression</color><color=#f8f8f2>.</color><color=#a6e22e>indexOf</color><color=#f8f8f2>(</color><color=#e6db74>"="</color><color=#f8f8f2>)</color> <color=#f92672><</color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
              <color=#f8f8f2>StringTokenizer</color> <color=#f8f8f2>st2</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>StringTokenizer</color><color=#f8f8f2>(</color><color=#f8f8f2>expression</color><color=#f8f8f2>,</color> <color=#e6db74>":"</color><color=#f8f8f2>);</color>
              <color=#f8f8f2>title</color> <color=#f92672>=</color> <color=#f8f8f2>st2</color><color=#f8f8f2>.</color><color=#a6e22e>nextToken</color><color=#f8f8f2>();</color>
              <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>title</color><color=#f8f8f2>,</color> <color=#e6db74>""</color><color=#f8f8f2>);</color>
            <color=#f8f8f2>}</color> <color=#66d9ef>else</color> <color=#f8f8f2>{</color>
              <color=#f8f8f2>StringTokenizer</color> <color=#f8f8f2>st2</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>StringTokenizer</color><color=#f8f8f2>(</color><color=#f8f8f2>expression</color><color=#f8f8f2>,</color> <color=#e6db74>"="</color><color=#f8f8f2>);</color>
              <color=#f8f8f2>String</color> <color=#f8f8f2>stats</color> <color=#f92672>=</color> <color=#e6db74>"    "</color> <color=#f92672>+</color> <color=#f8f8f2>st2</color><color=#f8f8f2>.</color><color=#a6e22e>nextToken</color><color=#f8f8f2>();</color>
              <color=#f8f8f2>String</color> <color=#f8f8f2>value</color> <color=#f92672>=</color> <color=#f8f8f2>st2</color><color=#f8f8f2>.</color><color=#a6e22e>nextToken</color><color=#f8f8f2>().</color><color=#a6e22e>trim</color><color=#f8f8f2>();</color>
              <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>stats</color> <color=#f92672>+</color> <color=#e6db74>":"</color> <color=#f92672>+</color> <color=#f8f8f2>title</color><color=#f8f8f2>,</color> <color=#f8f8f2>value</color><color=#f8f8f2>);</color>
            <color=#f8f8f2>}</color>
          <color=#f8f8f2>}</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>javax</color><color=#f8f8f2>.</color><color=#a6e22e>management</color><color=#f8f8f2>.</color><color=#a6e22e>InstanceNotFoundException</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>

      <color=#75715e>/*</color>
<color=#75715e>       * If the connection is broken while it is trying to invoke, close</color>
<color=#75715e>       * and release all resources.</color>
<color=#75715e>       */</color>
      <color=#f8f8f2>forceClose</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>Exception</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>printStackTrace</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>map</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Stop and null the log and graph thread, close all the file writers. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>forceClose</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>setConnection</color><color=#f8f8f2>(</color><color=#66d9ef>null</color><color=#f8f8f2>);</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>LogObject</color><color=#f92672>></color> <color=#f8f8f2>item</color> <color=#f8f8f2>:</color> <color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>entrySet</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>item</color><color=#f8f8f2>.</color><color=#a6e22e>getValue</color><color=#f8f8f2>().</color><color=#a6e22e>closeFileWriter</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Return the JEMonitor MBean names in this application. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>synchronized</color> <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f92672>></color> <color=#a6e22e>getBeansNames</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>connection</color> <color=#f92672>==</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f92672>></color> <color=#f8f8f2>names</color> <color=#f92672>=</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
    <color=#66d9ef>try</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>ObjectName</color> <color=#f8f8f2>name</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>ObjectName</color><color=#f8f8f2>(</color><color=#f8f8f2>mBeanNamePrefix</color><color=#f8f8f2>);</color>

      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>connection</color><color=#f8f8f2>.</color><color=#a6e22e>queryNames</color><color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>,</color> <color=#66d9ef>null</color><color=#f8f8f2>).</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>!=</color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>names</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f92672>></color><color=#f8f8f2>(</color><color=#f8f8f2>connection</color><color=#f8f8f2>.</color><color=#a6e22e>queryNames</color><color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>,</color> <color=#66d9ef>null</color><color=#f8f8f2>));</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>java</color><color=#f8f8f2>.</color><color=#a6e22e>rmi</color><color=#f8f8f2>.</color><color=#a6e22e>RemoteException</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>

      <color=#75715e>/*</color>
<color=#75715e>       * Because the interval of plugin and the logging thread is not the</color>
<color=#75715e>       * same, sometimes logging thread would try to invoke a non-active</color>
<color=#75715e>       * connection and throws out RemoteException.  We need to stop the</color>
<color=#75715e>       * thread and release the resources.</color>
<color=#75715e>       */</color>
      <color=#f8f8f2>forceClose</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>Exception</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>printStackTrace</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>names</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Repaint mbeans combobox if the number of MBeans changes. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>repaintComboBox</color><color=#f8f8f2>(</color><color=#f8f8f2>List</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f92672>></color> <color=#f8f8f2>names</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>names</color> <color=#f92672>==</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>try</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>names</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>!=</color> <color=#f8f8f2>mBeansNum</color> <color=#f92672>&&</color> <color=#f8f8f2>names</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>!=</color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>mBeansComboBox</color><color=#f8f8f2>.</color><color=#a6e22e>removeActionListener</color><color=#f8f8f2>(</color><color=#f8f8f2>mBeanComboBoxListener</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>mBeansComboBox</color><color=#f8f8f2>.</color><color=#a6e22e>removeAllItems</color><color=#f8f8f2>();</color>
        <color=#f8f8f2>initMBeanComboBox</color><color=#f8f8f2>(</color><color=#f8f8f2>names</color><color=#f8f8f2>);</color>

        <color=#75715e>/*</color>
<color=#75715e>         * Remove it from the logging map, release the resources</color>
<color=#75715e>         * acquired by this MBean.</color>
<color=#75715e>         */</color>
        <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>LogObject</color><color=#f92672>></color> <color=#f8f8f2>entry</color> <color=#f8f8f2>:</color> <color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>entrySet</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
          <color=#66d9ef>boolean</color> <color=#f8f8f2>find</color> <color=#f92672>=</color> <color=#66d9ef>false</color><color=#f8f8f2>;</color>
          <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>ObjectName</color> <color=#f8f8f2>name</color> <color=#f8f8f2>:</color> <color=#f8f8f2>names</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
            <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>()))</color> <color=#f8f8f2>{</color>
              <color=#f8f8f2>find</color> <color=#f92672>=</color> <color=#66d9ef>true</color><color=#f8f8f2>;</color>
              <color=#66d9ef>break</color><color=#f8f8f2>;</color>
            <color=#f8f8f2>}</color>
          <color=#f8f8f2>}</color>
          <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>find</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
            <color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>()).</color><color=#a6e22e>closeFileWriter</color><color=#f8f8f2>();</color>
            <color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>remove</color><color=#f8f8f2>(</color><color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>());</color>
            <color=#f8f8f2>valueStore</color><color=#f8f8f2>.</color><color=#a6e22e>remove</color><color=#f8f8f2>(</color><color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>());</color>
            <color=#66d9ef>break</color><color=#f8f8f2>;</color>
          <color=#f8f8f2>}</color>
        <color=#f8f8f2>}</color>
        <color=#f8f8f2>objName</color> <color=#f92672>=</color> <color=#f8f8f2>getFirstObjectName</color><color=#f8f8f2>();</color>
        <color=#f8f8f2>mBeansNum</color> <color=#f92672>=</color> <color=#f8f8f2>names</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>();</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>Exception</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>printStackTrace</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Write chosen stats to the log. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>writeToLog</color><color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>map</color><color=#f8f8f2>,</color> <color=#f8f8f2>ObjectName</color> <color=#f8f8f2>currentName</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>try</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>map</color> <color=#f92672>==</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#66d9ef>return</color><color=#f8f8f2>;</color>

      <color=#75715e>/* If the log name is not set, return. */</color>
      <color=#f8f8f2>LogObject</color> <color=#f8f8f2>item</color> <color=#f92672>=</color> <color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>currentName</color><color=#f8f8f2>);</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>item</color><color=#f8f8f2>.</color><color=#a6e22e>getLogName</color><color=#f8f8f2>()</color> <color=#f92672>==</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#66d9ef>return</color><color=#f8f8f2>;</color>

      <color=#f8f8f2>StringBuilder</color> <color=#f8f8f2>buffer</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>StringBuilder</color><color=#f8f8f2>();</color>
      <color=#f8f8f2>getCSVOutput</color><color=#f8f8f2>(</color><color=#f8f8f2>buffer</color><color=#f8f8f2>,</color> <color=#f8f8f2>map</color><color=#f8f8f2>,</color> <color=#66d9ef>false</color><color=#f8f8f2>,</color> <color=#f8f8f2>currentName</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>buffer</color><color=#f8f8f2>.</color><color=#a6e22e>append</color><color=#f8f8f2>(</color><color=#e6db74>"\n"</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>item</color><color=#f8f8f2>.</color><color=#a6e22e>writeLog</color><color=#f8f8f2>(</color><color=#f8f8f2>buffer</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>Exception</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>printStackTrace</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Make the stats output in CSV format. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>getCSVOutput</color><color=#f8f8f2>(</color>
      <color=#f8f8f2>StringBuilder</color> <color=#f8f8f2>buffer</color><color=#f8f8f2>,</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>map</color><color=#f8f8f2>,</color> <color=#66d9ef>boolean</color> <color=#f8f8f2>init</color><color=#f8f8f2>,</color> <color=#f8f8f2>ObjectName</color> <color=#f8f8f2>name</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>LogObject</color> <color=#f8f8f2>item</color> <color=#f92672>=</color> <color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>name</color><color=#f8f8f2>);</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>map</color> <color=#f92672>==</color> <color=#66d9ef>null</color> <color=#f92672>||</color> <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>==</color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/* Before write to log, remove those unlog stats. */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>item</color> <color=#f92672>!=</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>Object</color><color=#f92672>[]</color> <color=#f8f8f2>keys</color> <color=#f92672>=</color> <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>keySet</color><color=#f8f8f2>().</color><color=#a6e22e>toArray</color><color=#f8f8f2>();</color>
      <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>String</color> <color=#f8f8f2>title</color> <color=#f8f8f2>:</color> <color=#f8f8f2>item</color><color=#f8f8f2>.</color><color=#a6e22e>getTurnOff</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Object</color> <color=#f8f8f2>key</color> <color=#f8f8f2>:</color> <color=#f8f8f2>keys</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>key</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>().</color><color=#a6e22e>contains</color><color=#f8f8f2>(</color><color=#f8f8f2>title</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
            <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>remove</color><color=#f8f8f2>(</color><color=#f8f8f2>key</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>());</color>
          <color=#f8f8f2>}</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
      <color=#f8f8f2>emptyArray</color><color=#f8f8f2>(</color><color=#f8f8f2>keys</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>keys</color> <color=#f92672>=</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>
    <color=#f8f8f2>item</color> <color=#f92672>=</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>init</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>buffer</color><color=#f8f8f2>.</color><color=#a6e22e>append</color><color=#f8f8f2>(</color><color=#f8f8f2>System</color><color=#f8f8f2>.</color><color=#a6e22e>currentTimeMillis</color><color=#f8f8f2>());</color>
    <color=#f8f8f2>}</color> <color=#66d9ef>else</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>buffer</color><color=#f8f8f2>.</color><color=#a6e22e>append</color><color=#f8f8f2>(</color><color=#e6db74>"TIME"</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#66d9ef>int</color> <color=#f8f8f2>i</color> <color=#f92672>=</color> <color=#ae81ff>0</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color> <color=#f92672><</color> <color=#f8f8f2>statsTitles</color><color=#f8f8f2>.</color><color=#a6e22e>length</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color><color=#f92672>++</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>remove</color><color=#f8f8f2>(</color><color=#f8f8f2>statsTitles</color><color=#f92672>[</color><color=#f8f8f2>i</color><color=#f92672>]</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>></color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>buffer</color><color=#f8f8f2>.</color><color=#a6e22e>append</color><color=#f8f8f2>(</color><color=#e6db74>","</color><color=#f8f8f2>);</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>count</color> <color=#f92672>=</color> <color=#ae81ff>1</color><color=#f8f8f2>;</color>
      <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>entry</color> <color=#f8f8f2>:</color> <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>entrySet</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>String</color> <color=#f8f8f2>title</color> <color=#f92672>=</color> <color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>().</color><color=#a6e22e>substring</color><color=#f8f8f2>(</color><color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>().</color><color=#a6e22e>indexOf</color><color=#f8f8f2>(</color><color=#e6db74>":"</color><color=#f8f8f2>)).</color><color=#a6e22e>trim</color><color=#f8f8f2>();</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>init</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>title</color> <color=#f92672>=</color> <color=#e6db74>"\""</color> <color=#f92672>+</color> <color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getValue</color><color=#f8f8f2>()</color> <color=#f92672>+</color> <color=#e6db74>"\""</color><color=#f8f8f2>;</color>
        <color=#f8f8f2>}</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>count</color> <color=#f92672><</color> <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>())</color> <color=#f8f8f2>title</color> <color=#f92672>=</color> <color=#f8f8f2>title</color> <color=#f92672>+</color> <color=#e6db74>","</color><color=#f8f8f2>;</color>
        <color=#f8f8f2>buffer</color><color=#f8f8f2>.</color><color=#a6e22e>append</color><color=#f8f8f2>(</color><color=#f8f8f2>title</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>count</color><color=#f92672>++</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Return a new SwingWorker for UI update. */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>SwingWorker</color><color=#f92672><?</color><color=#f8f8f2>,</color> <color=#f92672>?></color> <color=#f8f8f2>newSwingWorker</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>Stats</color><color=#f92672>></color> <color=#f8f8f2>list</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>Stats</color><color=#f92672>></color><color=#f8f8f2>();</color>
    <color=#f8f8f2>list</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#66d9ef>this</color><color=#f8f8f2>);</color>

    <color=#66d9ef>return</color> <color=#66d9ef>new</color> <color=#f8f8f2>StatsSwingWorker</color><color=#f8f8f2>(</color><color=#f8f8f2>list</color><color=#f8f8f2>);</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Writing and graphing stats according to the specified interval. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>writeLogAndGraphing</color><color=#f8f8f2>(</color><color=#f8f8f2>ObjectName</color> <color=#f8f8f2>objectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>values</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>((</color><color=#f8f8f2>values</color> <color=#f92672>==</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f92672>||</color> <color=#f8f8f2>(</color><color=#f8f8f2>values</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>==</color> <color=#ae81ff>0</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/* Graphing stats. */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>frameList</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>></color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>GraphFrame</color> <color=#f8f8f2>frame</color> <color=#f8f8f2>:</color> <color=#f8f8f2>frameList</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>frame</color><color=#f8f8f2>.</color><color=#a6e22e>getBeanName</color><color=#f8f8f2>().</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#f8f8f2>objectName</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>frame</color><color=#f8f8f2>.</color><color=#a6e22e>writeData</color><color=#f8f8f2>(</color><color=#f8f8f2>values</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/* Write stats to csv file. */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>doLog</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>writeToLog</color><color=#f8f8f2>(</color><color=#f8f8f2>values</color><color=#f8f8f2>,</color> <color=#f8f8f2>objectName</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* A utility class for recording the environment-related information. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>LogObject</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>private</color> <color=#f8f8f2>String</color> <color=#f8f8f2>logName</color><color=#f8f8f2>;</color>
    <color=#66d9ef>private</color> <color=#f8f8f2>FileWriter</color> <color=#f8f8f2>csvOutput</color> <color=#f92672>=</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
    <color=#66d9ef>private</color> <color=#66d9ef>final</color> <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>turnOffIndex</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f92672>></color><color=#f8f8f2>();</color>

    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>setLogName</color><color=#f8f8f2>(</color><color=#f8f8f2>String</color> <color=#f8f8f2>logName</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>logName</color><color=#f8f8f2>.</color><color=#a6e22e>contains</color><color=#f8f8f2>(</color><color=#e6db74>".csv"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>this</color><color=#f8f8f2>.</color><color=#a6e22e>logName</color> <color=#f92672>=</color> <color=#f8f8f2>logName</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>}</color> <color=#66d9ef>else</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>this</color><color=#f8f8f2>.</color><color=#a6e22e>logName</color> <color=#f92672>=</color> <color=#f8f8f2>logName</color> <color=#f92672>+</color> <color=#e6db74>".csv"</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#f8f8f2>String</color> <color=#a6e22e>getLogName</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#f8f8f2>logName</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>addTurnOff</color><color=#f8f8f2>(</color><color=#f8f8f2>String</color> <color=#f8f8f2>title</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>turnOffIndex</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#f8f8f2>title</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f92672>></color> <color=#a6e22e>getTurnOff</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#f8f8f2>turnOffIndex</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/* Paint the CSV file header. */</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>initCSVOutput</color><color=#f8f8f2>(</color><color=#f8f8f2>ObjectName</color> <color=#f8f8f2>objectName</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>logName</color> <color=#f92672>!=</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>try</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>csvOutput</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>FileWriter</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>File</color><color=#f8f8f2>(</color><color=#f8f8f2>logName</color><color=#f8f8f2>),</color> <color=#66d9ef>true</color><color=#f8f8f2>);</color>
          <color=#f8f8f2>StringBuilder</color> <color=#f8f8f2>buffer</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>StringBuilder</color><color=#f8f8f2>();</color>
          <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>map</color> <color=#f92672>=</color> <color=#f8f8f2>generateStats</color><color=#f8f8f2>(</color><color=#f8f8f2>objectName</color><color=#f8f8f2>);</color>
          <color=#f8f8f2>getCSVOutput</color><color=#f8f8f2>(</color><color=#f8f8f2>buffer</color><color=#f8f8f2>,</color> <color=#f8f8f2>map</color><color=#f8f8f2>,</color> <color=#66d9ef>true</color><color=#f8f8f2>,</color> <color=#f8f8f2>objectName</color><color=#f8f8f2>);</color>
          <color=#f8f8f2>csvOutput</color><color=#f8f8f2>.</color><color=#a6e22e>append</color><color=#f8f8f2>(</color><color=#f8f8f2>buffer</color> <color=#f92672>+</color> <color=#e6db74>"\n"</color><color=#f8f8f2>);</color>
          <color=#f8f8f2>csvOutput</color><color=#f8f8f2>.</color><color=#a6e22e>flush</color><color=#f8f8f2>();</color>
        <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>IOException</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>printStackTrace</color><color=#f8f8f2>();</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/* Write stats to log. */</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>writeLog</color><color=#f8f8f2>(</color><color=#f8f8f2>String</color> <color=#f8f8f2>stats</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>try</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>csvOutput</color> <color=#f92672>!=</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>csvOutput</color><color=#f8f8f2>.</color><color=#a6e22e>append</color><color=#f8f8f2>(</color><color=#f8f8f2>stats</color><color=#f8f8f2>);</color>
          <color=#f8f8f2>csvOutput</color><color=#f8f8f2>.</color><color=#a6e22e>flush</color><color=#f8f8f2>();</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>Exception</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>printStackTrace</color><color=#f8f8f2>();</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/* Close the file writer. */</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>closeFileWriter</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>try</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>csvOutput</color> <color=#f92672>!=</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>csvOutput</color><color=#f8f8f2>.</color><color=#a6e22e>close</color><color=#f8f8f2>();</color>
        <color=#f8f8f2>csvOutput</color> <color=#f92672>=</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>Exception</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>printStackTrace</color><color=#f8f8f2>();</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* The table model for stats table. */</color>
  <color=#66d9ef>public</color> <color=#66d9ef>class</color> <color=#a6e22e>StatsTableModel</color> <color=#66d9ef>extends</color> <color=#f8f8f2>AbstractTableModel</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#66d9ef>long</color> <color=#f8f8f2>serialVersionUID</color> <color=#f92672>=</color> <color=#f92672>-</color><color=#ae81ff>2478788160419123718L</color><color=#f8f8f2>;</color>

    <color=#66d9ef>private</color> <color=#66d9ef>final</color> <color=#f8f8f2>String</color><color=#f92672>[]</color> <color=#f8f8f2>columnNames</color> <color=#f92672>=</color> <color=#f8f8f2>{</color><color=#e6db74>"Stat Name"</color><color=#f8f8f2>,</color> <color=#e6db74>"Value"</color><color=#f8f8f2>};</color>

    <color=#66d9ef>private</color> <color=#f8f8f2>List</color><color=#f92672><</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>>></color> <color=#f8f8f2>list</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>ArrayList</color><color=#f92672><</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>>></color><color=#f8f8f2>();</color>

    <color=#66d9ef>public</color> <color=#66d9ef>int</color> <color=#a6e22e>getColumnCount</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#f8f8f2>columnNames</color><color=#f8f8f2>.</color><color=#a6e22e>length</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#66d9ef>int</color> <color=#a6e22e>getRowCount</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#f8f8f2>(</color><color=#f8f8f2>list</color> <color=#f92672>==</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f92672>?</color> <color=#ae81ff>0</color> <color=#f8f8f2>:</color> <color=#f8f8f2>list</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>

    <color=#a6e22e>@Override</color>
    <color=#66d9ef>public</color> <color=#f8f8f2>String</color> <color=#a6e22e>getColumnName</color><color=#f8f8f2>(</color><color=#66d9ef>int</color> <color=#f8f8f2>col</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#f8f8f2>columnNames</color><color=#f92672>[</color><color=#f8f8f2>col</color><color=#f92672>]</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#f8f8f2>Object</color> <color=#a6e22e>getValueAt</color><color=#f8f8f2>(</color><color=#66d9ef>int</color> <color=#f8f8f2>row</color><color=#f8f8f2>,</color> <color=#66d9ef>int</color> <color=#f8f8f2>col</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>value</color> <color=#f92672>=</color> <color=#f8f8f2>list</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>row</color><color=#f8f8f2>);</color>
      <color=#66d9ef>switch</color> <color=#f8f8f2>(</color><color=#f8f8f2>col</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>case</color> <color=#ae81ff>0</color><color=#f8f8f2>:</color>
          <color=#75715e>/* Column 0 shows the stats name.*/</color>
          <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>().</color><color=#a6e22e>indexOf</color><color=#f8f8f2>(</color><color=#e6db74>":"</color><color=#f8f8f2>)</color> <color=#f92672><</color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
            <color=#66d9ef>return</color> <color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>().</color><color=#a6e22e>trim</color><color=#f8f8f2>();</color>
          <color=#f8f8f2>}</color> <color=#66d9ef>else</color> <color=#f8f8f2>{</color>
            <color=#66d9ef>return</color> <color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>().</color><color=#a6e22e>substring</color><color=#f8f8f2>(</color><color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>().</color><color=#a6e22e>indexOf</color><color=#f8f8f2>(</color><color=#e6db74>":"</color><color=#f8f8f2>));</color>
          <color=#f8f8f2>}</color>
        <color=#66d9ef>case</color> <color=#ae81ff>1</color><color=#f8f8f2>:</color>
          <color=#66d9ef>return</color> <color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>getValue</color><color=#f8f8f2>();</color>
        <color=#66d9ef>default</color><color=#f8f8f2>:</color>
          <color=#66d9ef>return</color> <color=#66d9ef>null</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#a6e22e>@Override</color>
    <color=#a6e22e>@SuppressWarnings</color><color=#f8f8f2>(</color><color=#e6db74>"unchecked"</color><color=#f8f8f2>)</color>
    <color=#66d9ef>public</color> <color=#f8f8f2>Class</color> <color=#a6e22e>getColumnClass</color><color=#f8f8f2>(</color><color=#66d9ef>int</color> <color=#f8f8f2>c</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#f8f8f2>getValueAt</color><color=#f8f8f2>(</color><color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#f8f8f2>c</color><color=#f8f8f2>).</color><color=#a6e22e>getClass</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>setList</color><color=#f8f8f2>(</color><color=#f8f8f2>List</color><color=#f92672><</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>>></color> <color=#f8f8f2>list</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>this</color><color=#f8f8f2>.</color><color=#a6e22e>list</color> <color=#f92672>=</color> <color=#f8f8f2>list</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/*</color>
<color=#75715e>   * If a stat's value has changed since last time, then marked it in red.</color>
<color=#75715e>   */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>StringRenderer</color> <color=#66d9ef>extends</color> <color=#f8f8f2>DefaultTableCellRenderer</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#66d9ef>long</color> <color=#f8f8f2>serialVersionUID</color> <color=#f92672>=</color> <color=#ae81ff>480362177240428265L</color><color=#f8f8f2>;</color>

    <color=#66d9ef>public</color> <color=#a6e22e>StringRenderer</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>super</color><color=#f8f8f2>();</color>
      <color=#f8f8f2>setHorizontalAlignment</color><color=#f8f8f2>(</color><color=#f8f8f2>JLabel</color><color=#f8f8f2>.</color><color=#a6e22e>LEFT</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#a6e22e>@Override</color>
    <color=#66d9ef>public</color> <color=#f8f8f2>Component</color> <color=#a6e22e>getTableCellRendererComponent</color><color=#f8f8f2>(</color>
        <color=#f8f8f2>JTable</color> <color=#f8f8f2>table</color><color=#f8f8f2>,</color> <color=#f8f8f2>Object</color> <color=#f8f8f2>value</color><color=#f8f8f2>,</color> <color=#66d9ef>boolean</color> <color=#f8f8f2>isSelected</color><color=#f8f8f2>,</color> <color=#66d9ef>boolean</color> <color=#f8f8f2>hasFocus</color><color=#f8f8f2>,</color> <color=#66d9ef>int</color> <color=#f8f8f2>row</color><color=#f8f8f2>,</color> <color=#66d9ef>int</color> <color=#f8f8f2>column</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>Component</color> <color=#f8f8f2>cell</color> <color=#f92672>=</color>
          <color=#66d9ef>super</color><color=#f8f8f2>.</color><color=#a6e22e>getTableCellRendererComponent</color><color=#f8f8f2>(</color><color=#f8f8f2>table</color><color=#f8f8f2>,</color> <color=#f8f8f2>value</color><color=#f8f8f2>,</color> <color=#f8f8f2>isSelected</color><color=#f8f8f2>,</color> <color=#f8f8f2>hasFocus</color><color=#f8f8f2>,</color> <color=#f8f8f2>row</color><color=#f8f8f2>,</color> <color=#f8f8f2>column</color><color=#f8f8f2>);</color>

      <color=#75715e>/*</color>
<color=#75715e>       * If the value is the same, the font color is black, if the value</color>
<color=#75715e>       * is different, then change the color to red, and replace the</color>
<color=#75715e>       * value in the valueStore to the new one.</color>
<color=#75715e>       */</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>column</color> <color=#f92672>==</color> <color=#ae81ff>1</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>String</color> <color=#f8f8f2>newValue</color> <color=#f92672>=</color> <color=#f8f8f2>valueStore</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>objName</color><color=#f8f8f2>).</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>table</color><color=#f8f8f2>.</color><color=#a6e22e>getValueAt</color><color=#f8f8f2>(</color><color=#f8f8f2>row</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>));</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>newValue</color> <color=#f92672>!=</color> <color=#66d9ef>null</color> <color=#f92672>&&</color> <color=#f92672>!</color><color=#f8f8f2>newValue</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#f8f8f2>table</color><color=#f8f8f2>.</color><color=#a6e22e>getValueAt</color><color=#f8f8f2>(</color><color=#f8f8f2>row</color><color=#f8f8f2>,</color> <color=#ae81ff>1</color><color=#f8f8f2>)))</color> <color=#f8f8f2>{</color>

          <color=#f8f8f2>valueStore</color>
              <color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>objName</color><color=#f8f8f2>)</color>
              <color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>table</color><color=#f8f8f2>.</color><color=#a6e22e>getValueAt</color><color=#f8f8f2>(</color><color=#f8f8f2>row</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>).</color><color=#a6e22e>toString</color><color=#f8f8f2>(),</color> <color=#f8f8f2>table</color><color=#f8f8f2>.</color><color=#a6e22e>getValueAt</color><color=#f8f8f2>(</color><color=#f8f8f2>row</color><color=#f8f8f2>,</color> <color=#ae81ff>1</color><color=#f8f8f2>).</color><color=#a6e22e>toString</color><color=#f8f8f2>().</color><color=#a6e22e>trim</color><color=#f8f8f2>());</color>
          <color=#f8f8f2>cell</color><color=#f8f8f2>.</color><color=#a6e22e>setForeground</color><color=#f8f8f2>(</color><color=#f8f8f2>Color</color><color=#f8f8f2>.</color><color=#a6e22e>RED</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color> <color=#66d9ef>else</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>cell</color><color=#f8f8f2>.</color><color=#a6e22e>setForeground</color><color=#f8f8f2>(</color><color=#f8f8f2>Color</color><color=#f8f8f2>.</color><color=#a6e22e>BLACK</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>

      <color=#66d9ef>return</color> <color=#f8f8f2>cell</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* The file chooser for setting log file. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>SaveLogFileChooser</color> <color=#66d9ef>extends</color> <color=#f8f8f2>JFileChooser</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#66d9ef>long</color> <color=#f8f8f2>serialVersionUID</color> <color=#f92672>=</color> <color=#f92672>-</color><color=#ae81ff>3035086973026766211L</color><color=#f8f8f2>;</color>

    <color=#66d9ef>public</color> <color=#a6e22e>SaveLogFileChooser</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>setFileFilter</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>FileNameExtensionFilter</color><color=#f8f8f2>(</color><color=#e6db74>"CSV files"</color><color=#f8f8f2>,</color> <color=#e6db74>"csv"</color><color=#f8f8f2>));</color>
    <color=#f8f8f2>}</color>

    <color=#a6e22e>@Override</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>approveSelection</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>File</color> <color=#f8f8f2>file</color> <color=#f92672>=</color> <color=#f8f8f2>getSelectedFile</color><color=#f8f8f2>();</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>file</color> <color=#f92672>!=</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>FileFilter</color> <color=#f8f8f2>filter</color> <color=#f92672>=</color> <color=#f8f8f2>getFileFilter</color><color=#f8f8f2>();</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>filter</color> <color=#f92672>!=</color> <color=#66d9ef>null</color> <color=#f92672>&&</color> <color=#f8f8f2>filter</color> <color=#66d9ef>instanceof</color> <color=#f8f8f2>FileNameExtensionFilter</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>String</color><color=#f92672>[]</color> <color=#f8f8f2>extensions</color> <color=#f92672>=</color> <color=#f8f8f2>((</color><color=#f8f8f2>FileNameExtensionFilter</color><color=#f8f8f2>)</color> <color=#f8f8f2>filter</color><color=#f8f8f2>).</color><color=#a6e22e>getExtensions</color><color=#f8f8f2>();</color>

          <color=#66d9ef>boolean</color> <color=#f8f8f2>goodExt</color> <color=#f92672>=</color> <color=#f8f8f2>extensions</color><color=#f8f8f2>.</color><color=#a6e22e>length</color> <color=#f92672>></color> <color=#ae81ff>0</color><color=#f8f8f2>;</color>

          <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>goodExt</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
            <color=#f8f8f2>file</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>File</color><color=#f8f8f2>(</color><color=#f8f8f2>file</color><color=#f8f8f2>.</color><color=#a6e22e>getParent</color><color=#f8f8f2>(),</color> <color=#f8f8f2>file</color><color=#f8f8f2>.</color><color=#a6e22e>getName</color><color=#f8f8f2>()</color> <color=#f92672>+</color> <color=#e6db74>"."</color> <color=#f92672>+</color> <color=#f8f8f2>extensions</color><color=#f92672>[</color><color=#ae81ff>0</color><color=#f92672>]</color><color=#f8f8f2>);</color>
          <color=#f8f8f2>}</color>
        <color=#f8f8f2>}</color>

        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>file</color><color=#f8f8f2>.</color><color=#a6e22e>exists</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>String</color> <color=#f8f8f2>okStr</color> <color=#f92672>=</color> <color=#e6db74>"ok"</color><color=#f8f8f2>;</color>
          <color=#f8f8f2>String</color> <color=#f8f8f2>cancelStr</color> <color=#f92672>=</color> <color=#e6db74>"cancel"</color><color=#f8f8f2>;</color>
          <color=#66d9ef>int</color> <color=#f8f8f2>ret</color> <color=#f92672>=</color>
              <color=#f8f8f2>JOptionPane</color><color=#f8f8f2>.</color><color=#a6e22e>showOptionDialog</color><color=#f8f8f2>(</color>
                  <color=#66d9ef>this</color><color=#f8f8f2>,</color>
                  <color=#e6db74>"File "</color> <color=#f92672>+</color> <color=#f8f8f2>file</color><color=#f8f8f2>.</color><color=#a6e22e>getName</color><color=#f8f8f2>()</color> <color=#f92672>+</color> <color=#e6db74>" already exists!"</color><color=#f8f8f2>,</color>
                  <color=#e6db74>"Save File"</color><color=#f8f8f2>,</color>
                  <color=#f8f8f2>JOptionPane</color><color=#f8f8f2>.</color><color=#a6e22e>OK_CANCEL_OPTION</color><color=#f8f8f2>,</color>
                  <color=#f8f8f2>JOptionPane</color><color=#f8f8f2>.</color><color=#a6e22e>WARNING_MESSAGE</color><color=#f8f8f2>,</color>
                  <color=#66d9ef>null</color><color=#f8f8f2>,</color>
                  <color=#66d9ef>new</color> <color=#f8f8f2>Object</color><color=#f92672>[]</color> <color=#f8f8f2>{</color><color=#f8f8f2>okStr</color><color=#f8f8f2>,</color> <color=#f8f8f2>cancelStr</color><color=#f8f8f2>},</color>
                  <color=#f8f8f2>okStr</color><color=#f8f8f2>);</color>
          <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>ret</color> <color=#f92672>!=</color> <color=#f8f8f2>JOptionPane</color><color=#f8f8f2>.</color><color=#a6e22e>OK_OPTION</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
            <color=#66d9ef>return</color><color=#f8f8f2>;</color>
          <color=#f8f8f2>}</color>
        <color=#f8f8f2>}</color>

        <color=#f8f8f2>setSelectedFile</color><color=#f8f8f2>(</color><color=#f8f8f2>file</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
      <color=#66d9ef>super</color><color=#f8f8f2>.</color><color=#a6e22e>approveSelection</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Following classes are listeners for GUI events. */</color>

  <color=#75715e>/* Listener for clear stats button. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>ClearStatsBoxListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>ActionListener</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>actionPerformed</color><color=#f8f8f2>(</color><color=#f8f8f2>ActionEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>envStatParams</color><color=#f92672>[</color><color=#ae81ff>0</color><color=#f92672>]</color> <color=#f92672>=</color> <color=#f92672>!</color><color=#f8f8f2>(</color><color=#f8f8f2>cumulativeStatsBox</color><color=#f8f8f2>.</color><color=#a6e22e>isSelected</color><color=#f8f8f2>());</color>
      <color=#75715e>/* Repain the tab. */</color>
      <color=#f8f8f2>drawNewStats</color><color=#f8f8f2>.</color><color=#a6e22e>run</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Listener for display non-zero checkbox. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>HideZeroValueBoxListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>ActionListener</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>actionPerformed</color><color=#f8f8f2>(</color><color=#f8f8f2>ActionEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>hideZeroValue</color> <color=#f92672>=</color> <color=#f8f8f2>hideZeroValueBox</color><color=#f8f8f2>.</color><color=#a6e22e>isSelected</color><color=#f8f8f2>();</color>
      <color=#75715e>/* Repaint the tab. */</color>
      <color=#f8f8f2>drawNewStats</color><color=#f8f8f2>.</color><color=#a6e22e>run</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Listener for start logging button. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>StartLogListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>ActionListener</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>actionPerformed</color><color=#f8f8f2>(</color><color=#f8f8f2>ActionEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#75715e>/* Paint the CSV file header for each MBean. */</color>
      <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>LogObject</color><color=#f92672>></color> <color=#f8f8f2>entry</color> <color=#f8f8f2>:</color> <color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>entrySet</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getValue</color><color=#f8f8f2>().</color><color=#a6e22e>initCSVOutput</color><color=#f8f8f2>(</color><color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>());</color>
      <color=#f8f8f2>}</color>
      <color=#f8f8f2>enableComponent</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>JComponent</color><color=#f92672>[]</color> <color=#f8f8f2>{</color><color=#f8f8f2>saveLogButton</color><color=#f8f8f2>,</color> <color=#f8f8f2>startLogButton</color><color=#f8f8f2>,</color> <color=#f8f8f2>logMenuItem</color><color=#f8f8f2>},</color> <color=#66d9ef>false</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>doLog</color> <color=#f92672>=</color> <color=#66d9ef>true</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Listener for stop logging button. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>StopLogListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>ActionListener</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>actionPerformed</color><color=#f8f8f2>(</color><color=#f8f8f2>ActionEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>enableComponent</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>JComponent</color><color=#f92672>[]</color> <color=#f8f8f2>{</color><color=#f8f8f2>saveLogButton</color><color=#f8f8f2>,</color> <color=#f8f8f2>logMenuItem</color><color=#f8f8f2>},</color> <color=#66d9ef>true</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>doLog</color> <color=#f92672>=</color> <color=#66d9ef>false</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>startLogButton</color><color=#f8f8f2>.</color><color=#a6e22e>setEnabled</color><color=#f8f8f2>(</color><color=#66d9ef>false</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>stopLogButton</color><color=#f8f8f2>.</color><color=#a6e22e>setEnabled</color><color=#f8f8f2>(</color><color=#66d9ef>false</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>saveLogButton</color><color=#f8f8f2>.</color><color=#a6e22e>setEnabled</color><color=#f8f8f2>(</color><color=#66d9ef>true</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Set provided component enabled or not. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>enableComponent</color><color=#f8f8f2>(</color><color=#f8f8f2>JComponent</color><color=#f92672>[]</color> <color=#f8f8f2>components</color><color=#f8f8f2>,</color> <color=#66d9ef>boolean</color> <color=#f8f8f2>enabled</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>JComponent</color> <color=#f8f8f2>component</color> <color=#f8f8f2>:</color> <color=#f8f8f2>components</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>component</color><color=#f8f8f2>.</color><color=#a6e22e>setEnabled</color><color=#f8f8f2>(</color><color=#f8f8f2>enabled</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Listener for save log files button. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>SaveLogListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>ActionListener</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>JPanel</color> <color=#f8f8f2>shownPanel</color><color=#f8f8f2>;</color>

    <color=#66d9ef>public</color> <color=#a6e22e>SaveLogListener</color><color=#f8f8f2>(</color><color=#f8f8f2>JPanel</color> <color=#f8f8f2>shownPanel</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>this</color><color=#f8f8f2>.</color><color=#a6e22e>shownPanel</color> <color=#f92672>=</color> <color=#f8f8f2>shownPanel</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>actionPerformed</color><color=#f8f8f2>(</color><color=#f8f8f2>ActionEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>fileChooser</color> <color=#f92672>==</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>fileChooser</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>SaveLogFileChooser</color><color=#f8f8f2>();</color>
      <color=#f8f8f2>}</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>ret</color> <color=#f92672>=</color> <color=#f8f8f2>fileChooser</color><color=#f8f8f2>.</color><color=#a6e22e>showSaveDialog</color><color=#f8f8f2>(</color><color=#f8f8f2>shownPanel</color><color=#f8f8f2>);</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>ret</color> <color=#f92672>==</color> <color=#f8f8f2>JFileChooser</color><color=#f8f8f2>.</color><color=#a6e22e>APPROVE_OPTION</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>objName</color><color=#f8f8f2>).</color><color=#a6e22e>setLogName</color><color=#f8f8f2>(</color><color=#f8f8f2>fileChooser</color><color=#f8f8f2>.</color><color=#a6e22e>getSelectedFile</color><color=#f8f8f2>().</color><color=#a6e22e>getAbsolutePath</color><color=#f8f8f2>());</color>
        <color=#f8f8f2>startLogButton</color><color=#f8f8f2>.</color><color=#a6e22e>setEnabled</color><color=#f8f8f2>(</color><color=#66d9ef>true</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>stopLogButton</color><color=#f8f8f2>.</color><color=#a6e22e>setEnabled</color><color=#f8f8f2>(</color><color=#66d9ef>true</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Listener for choosing a MBean ComboBox. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>BeanComboBoxListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>ActionListener</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>actionPerformed</color><color=#f8f8f2>(</color><color=#f8f8f2>ActionEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#75715e>/* If choose another environment, need to update the table. */</color>
      <color=#f8f8f2>objName</color> <color=#f92672>=</color> <color=#f8f8f2>comboToObjects</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>mBeansComboBox</color><color=#f8f8f2>.</color><color=#a6e22e>getSelectedItem</color><color=#f8f8f2>());</color>
      <color=#75715e>/* Repaint the tab. */</color>
      <color=#f8f8f2>drawNewStats</color><color=#f8f8f2>.</color><color=#a6e22e>run</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Listener for stats type checkbox. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>StatsTypeListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>ActionListener</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>actionPerformed</color><color=#f8f8f2>(</color><color=#f8f8f2>ActionEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>shownStats</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color>
          <color=#f8f8f2>((</color><color=#f8f8f2>JCheckBox</color><color=#f8f8f2>)</color> <color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>getSource</color><color=#f8f8f2>()).</color><color=#a6e22e>getText</color><color=#f8f8f2>(),</color> <color=#f8f8f2>((</color><color=#f8f8f2>JCheckBox</color><color=#f8f8f2>)</color> <color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>getSource</color><color=#f8f8f2>()).</color><color=#a6e22e>isSelected</color><color=#f8f8f2>());</color>
      <color=#75715e>/* Repaint the tab. */</color>
      <color=#f8f8f2>drawNewStats</color><color=#f8f8f2>.</color><color=#a6e22e>run</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Listener for log menu item on JEStats table. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>LogMenuListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>ActionListener</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>actionPerformed</color><color=#f8f8f2>(</color><color=#f8f8f2>ActionEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>LogObject</color> <color=#f8f8f2>currentBean</color> <color=#f92672>=</color> <color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>objName</color><color=#f8f8f2>);</color>

      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>selectedRow</color> <color=#f92672>></color> <color=#f92672>-</color><color=#ae81ff>1</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>String</color> <color=#f8f8f2>title</color> <color=#f92672>=</color> <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>getValueAt</color><color=#f8f8f2>(</color><color=#f8f8f2>selectedRow</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>).</color><color=#a6e22e>toString</color><color=#f8f8f2>().</color><color=#a6e22e>trim</color><color=#f8f8f2>();</color>

        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>logMenuItem</color><color=#f8f8f2>.</color><color=#a6e22e>getState</color><color=#f8f8f2>()</color> <color=#f92672>&&</color> <color=#f92672>!</color><color=#f8f8f2>currentBean</color><color=#f8f8f2>.</color><color=#a6e22e>getTurnOff</color><color=#f8f8f2>().</color><color=#a6e22e>contains</color><color=#f8f8f2>(</color><color=#f8f8f2>title</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>currentBean</color><color=#f8f8f2>.</color><color=#a6e22e>addTurnOff</color><color=#f8f8f2>(</color><color=#f8f8f2>title</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>}</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>logMenuItem</color><color=#f8f8f2>.</color><color=#a6e22e>getState</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>currentBean</color><color=#f8f8f2>.</color><color=#a6e22e>getTurnOff</color><color=#f8f8f2>().</color><color=#a6e22e>remove</color><color=#f8f8f2>(</color><color=#f8f8f2>title</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* Listener for graph menu item on JEStats table. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>GraphMenuListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>ActionListener</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>actionPerformed</color><color=#f8f8f2>(</color><color=#f8f8f2>ActionEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>selectedRow</color> <color=#f92672>></color> <color=#f92672>-</color><color=#ae81ff>1</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>String</color> <color=#f8f8f2>graphStats</color> <color=#f92672>=</color> <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>getValueAt</color><color=#f8f8f2>(</color><color=#f8f8f2>selectedRow</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>).</color><color=#a6e22e>toString</color><color=#f8f8f2>().</color><color=#a6e22e>trim</color><color=#f8f8f2>();</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>isTitleEqual</color><color=#f8f8f2>(</color><color=#f8f8f2>graphStats</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
          <color=#66d9ef>boolean</color> <color=#f8f8f2>initialized</color> <color=#f92672>=</color> <color=#66d9ef>false</color><color=#f8f8f2>;</color>
          <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>GraphFrame</color> <color=#f8f8f2>frame</color> <color=#f8f8f2>:</color> <color=#f8f8f2>frameList</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
            <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>frame</color><color=#f8f8f2>.</color><color=#a6e22e>getBeanName</color><color=#f8f8f2>().</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#f8f8f2>objName</color><color=#f8f8f2>)</color> <color=#f92672>&&</color> <color=#f8f8f2>frame</color><color=#f8f8f2>.</color><color=#a6e22e>getStatsName</color><color=#f8f8f2>().</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#f8f8f2>graphStats</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
              <color=#f8f8f2>initialized</color> <color=#f92672>=</color> <color=#66d9ef>true</color><color=#f8f8f2>;</color>
              <color=#66d9ef>break</color><color=#f8f8f2>;</color>
            <color=#f8f8f2>}</color>
          <color=#f8f8f2>}</color>
          <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>initialized</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
            <color=#f8f8f2>frameList</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>GraphFrame</color><color=#f8f8f2>(</color><color=#f8f8f2>objName</color><color=#f8f8f2>,</color> <color=#f8f8f2>graphStats</color><color=#f8f8f2>));</color>
          <color=#f8f8f2>}</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* If the string equals to one of those stats types. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>boolean</color> <color=#a6e22e>isTitleEqual</color><color=#f8f8f2>(</color><color=#f8f8f2>String</color> <color=#f8f8f2>title</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>boolean</color> <color=#f8f8f2>equal</color> <color=#f92672>=</color> <color=#66d9ef>false</color><color=#f8f8f2>;</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#66d9ef>int</color> <color=#f8f8f2>i</color> <color=#f92672>=</color> <color=#ae81ff>0</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color> <color=#f92672><</color> <color=#f8f8f2>statsTitles</color><color=#f8f8f2>.</color><color=#a6e22e>length</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color><color=#f92672>++</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>statsTitles</color><color=#f92672>[</color><color=#f8f8f2>i</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#f8f8f2>title</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>equal</color> <color=#f92672>=</color> <color=#66d9ef>true</color><color=#f8f8f2>;</color>
        <color=#66d9ef>break</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>equal</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* These two classes are listeners for mouse actions on the Stats table. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>TableMouseListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>MouseListener</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>mouseClicked</color><color=#f8f8f2>(</color><color=#f8f8f2>MouseEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>getButton</color><color=#f8f8f2>()</color> <color=#f92672>==</color> <color=#f8f8f2>MouseEvent</color><color=#f8f8f2>.</color><color=#a6e22e>BUTTON3</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>int</color> <color=#f8f8f2>row</color> <color=#f92672>=</color> <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>rowAtPoint</color><color=#f8f8f2>(</color><color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>getPoint</color><color=#f8f8f2>());</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>row</color> <color=#f92672>>=</color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>setRowSelectionInterval</color><color=#f8f8f2>(</color><color=#f8f8f2>row</color><color=#f8f8f2>,</color> <color=#f8f8f2>row</color><color=#f8f8f2>);</color>
          <color=#66d9ef>final</color> <color=#f8f8f2>String</color> <color=#f8f8f2>statName</color> <color=#f92672>=</color> <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>getValueAt</color><color=#f8f8f2>(</color><color=#f8f8f2>row</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>).</color><color=#a6e22e>toString</color><color=#f8f8f2>().</color><color=#a6e22e>trim</color><color=#f8f8f2>();</color>
            <color=#f8f8f2>logMenuItem</color><color=#f8f8f2>.</color><color=#a6e22e>setState</color><color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>logMap</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>objName</color><color=#f8f8f2>).</color><color=#a6e22e>getTurnOff</color><color=#f8f8f2>().</color><color=#a6e22e>contains</color><color=#f8f8f2>(</color><color=#f8f8f2>statName</color><color=#f8f8f2>));</color>

          <color=#75715e>/* Check which stats shouldn't be graphed. */</color>
          <color=#66d9ef>try</color> <color=#f8f8f2>{</color>
            <color=#f8f8f2>String</color> <color=#f8f8f2>statValue</color> <color=#f92672>=</color> <color=#f8f8f2>getParsedValue</color><color=#f8f8f2>(</color><color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>getValueAt</color><color=#f8f8f2>(</color><color=#f8f8f2>row</color><color=#f8f8f2>,</color> <color=#ae81ff>1</color><color=#f8f8f2>).</color><color=#a6e22e>toString</color><color=#f8f8f2>().</color><color=#a6e22e>trim</color><color=#f8f8f2>());</color>

            <color=#75715e>/*</color>
<color=#75715e>             * If the stats value can't be converted to a number,</color>
<color=#75715e>             * disable graphing.</color>
<color=#75715e>             */</color>
            <color=#f8f8f2>Long</color><color=#f8f8f2>.</color><color=#a6e22e>parseLong</color><color=#f8f8f2>(</color><color=#f8f8f2>statValue</color><color=#f8f8f2>);</color>
            <color=#f8f8f2>graphMenuItem</color><color=#f8f8f2>.</color><color=#a6e22e>setEnabled</color><color=#f8f8f2>(</color><color=#66d9ef>true</color><color=#f8f8f2>);</color>
          <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>NumberFormatException</color> <color=#f8f8f2>exception</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>

            <color=#75715e>/* If the value can't be converted to long, disable the</color>
<color=#75715e>             * graphing menu.</color>
<color=#75715e>             */</color>
            <color=#f8f8f2>graphMenuItem</color><color=#f8f8f2>.</color><color=#a6e22e>setEnabled</color><color=#f8f8f2>(</color><color=#66d9ef>false</color><color=#f8f8f2>);</color>
          <color=#f8f8f2>}</color>
          <color=#f8f8f2>selectedRow</color> <color=#f92672>=</color> <color=#f8f8f2>row</color><color=#f8f8f2>;</color>
        <color=#f8f8f2>}</color>
        <color=#f8f8f2>popup</color><color=#f8f8f2>.</color><color=#a6e22e>show</color><color=#f8f8f2>(</color><color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>getComponent</color><color=#f8f8f2>(),</color> <color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>getX</color><color=#f8f8f2>(),</color> <color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>getY</color><color=#f8f8f2>());</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>mouseEntered</color><color=#f8f8f2>(</color><color=#f8f8f2>MouseEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{}</color>

    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>mouseExited</color><color=#f8f8f2>(</color><color=#f8f8f2>MouseEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{}</color>

    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>mousePressed</color><color=#f8f8f2>(</color><color=#f8f8f2>MouseEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{}</color>

    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>mouseReleased</color><color=#f8f8f2>(</color><color=#f8f8f2>MouseEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/*</color>
<color=#75715e>   * Parse the number format ***,***,*** to *********.</color>
<color=#75715e>   */</color>
  <color=#66d9ef>private</color> <color=#f8f8f2>String</color> <color=#a6e22e>getParsedValue</color><color=#f8f8f2>(</color><color=#f8f8f2>String</color> <color=#f8f8f2>value</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>value</color><color=#f8f8f2>.</color><color=#a6e22e>indexOf</color><color=#f8f8f2>(</color><color=#e6db74>","</color><color=#f8f8f2>)</color> <color=#f92672>></color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>StringTokenizer</color> <color=#f8f8f2>st</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>StringTokenizer</color><color=#f8f8f2>(</color><color=#f8f8f2>value</color><color=#f8f8f2>,</color> <color=#e6db74>","</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>value</color> <color=#f92672>=</color> <color=#e6db74>""</color><color=#f8f8f2>;</color>
      <color=#66d9ef>while</color> <color=#f8f8f2>(</color><color=#f8f8f2>st</color><color=#f8f8f2>.</color><color=#a6e22e>hasMoreTokens</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>value</color> <color=#f92672>=</color> <color=#f8f8f2>value</color> <color=#f92672>+</color> <color=#f8f8f2>st</color><color=#f8f8f2>.</color><color=#a6e22e>nextToken</color><color=#f8f8f2>();</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>return</color> <color=#f8f8f2>value</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* The MouseMotionListener to the table. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>TableMouseMotionListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>MouseMotionListener</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>mouseDragged</color><color=#f8f8f2>(</color><color=#f8f8f2>MouseEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{}</color>

    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>mouseMoved</color><color=#f8f8f2>(</color><color=#f8f8f2>MouseEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>row</color> <color=#f92672>=</color> <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>rowAtPoint</color><color=#f8f8f2>(</color><color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>getPoint</color><color=#f8f8f2>());</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>row</color> <color=#f92672>>=</color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>String</color> <color=#f8f8f2>stats</color> <color=#f92672>=</color> <color=#f8f8f2>((</color><color=#f8f8f2>String</color><color=#f8f8f2>)</color> <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>getValueAt</color><color=#f8f8f2>(</color><color=#f8f8f2>row</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>)).</color><color=#a6e22e>trim</color><color=#f8f8f2>();</color>
        <color=#f8f8f2>statsTable</color><color=#f8f8f2>.</color><color=#a6e22e>setToolTipText</color><color=#f8f8f2>(</color><color=#f8f8f2>tips</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>stats</color><color=#f8f8f2>));</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/* KeyListener for setting graph interval text field. */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>StatsIntervalListener</color> <color=#66d9ef>implements</color> <color=#f8f8f2>KeyListener</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>keyPressed</color><color=#f8f8f2>(</color><color=#f8f8f2>KeyEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>e</color><color=#f8f8f2>.</color><color=#a6e22e>getKeyCode</color><color=#f8f8f2>()</color> <color=#f92672>==</color> <color=#f8f8f2>KeyEvent</color><color=#f8f8f2>.</color><color=#a6e22e>VK_ENTER</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>String</color> <color=#f8f8f2>newIntervalText</color> <color=#f92672>=</color> <color=#f8f8f2>statsIntervalText</color><color=#f8f8f2>.</color><color=#a6e22e>getText</color><color=#f8f8f2>();</color>
        <color=#66d9ef>try</color> <color=#f8f8f2>{</color>
          <color=#66d9ef>long</color> <color=#f8f8f2>statsIntervalSeconds</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>Long</color><color=#f8f8f2>(</color><color=#f8f8f2>newIntervalText</color><color=#f8f8f2>);</color>
          <color=#f8f8f2>statsIntervalMillis</color> <color=#f92672>=</color> <color=#f8f8f2>statsIntervalSeconds</color> <color=#f92672>*</color> <color=#ae81ff>1000</color><color=#f8f8f2>;</color>
        <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>Exception</color> <color=#f8f8f2>exception</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>System</color><color=#f8f8f2>.</color><color=#a6e22e>err</color><color=#f8f8f2>.</color><color=#a6e22e>println</color><color=#f8f8f2>(</color><color=#e6db74>"\""</color> <color=#f92672>+</color> <color=#f8f8f2>newIntervalText</color> <color=#f92672>+</color> <color=#e6db74>"\" is not a valid interval. "</color> <color=#f92672>+</color> <color=#f8f8f2>exception</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>}</color>

        <color=#f8f8f2>statsCollector</color><color=#f8f8f2>.</color><color=#a6e22e>cancel</color><color=#f8f8f2>();</color>
        <color=#f8f8f2>statsCollector</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>Timer</color><color=#f8f8f2>(</color><color=#f8f8f2>STATS_COLLECTOR</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>statsCollector</color><color=#f8f8f2>.</color><color=#a6e22e>scheduleAtFixedRate</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>StatsCollectionTask</color><color=#f8f8f2>(),</color> <color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#f8f8f2>statsIntervalMillis</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>keyReleased</color><color=#f8f8f2>(</color><color=#f8f8f2>KeyEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{}</color>

    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>keyTyped</color><color=#f8f8f2>(</color><color=#f8f8f2>KeyEvent</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{}</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/**</color>
<color=#75715e>   * Frame for showing stats.</color>
<color=#75715e>   *</color>
<color=#75715e>   * <p>Note: stats whose type is float are not supported currently.</color>
<color=#75715e>   */</color>
  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>GraphFrame</color> <color=#66d9ef>extends</color> <color=#f8f8f2>JFrame</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#66d9ef>long</color> <color=#f8f8f2>serialVersionUID</color> <color=#f92672>=</color> <color=#ae81ff>8921577524698094123L</color><color=#f8f8f2>;</color>

    <color=#75715e>/* Set the color of line in graphing. */</color>
    <color=#66d9ef>private</color> <color=#66d9ef>final</color> <color=#f8f8f2>Color</color> <color=#f8f8f2>statsColor</color> <color=#f92672>=</color> <color=#f8f8f2>Color</color><color=#f8f8f2>.</color><color=#a6e22e>blue</color><color=#f8f8f2>.</color><color=#a6e22e>darker</color><color=#f8f8f2>();</color>
    <color=#75715e>/* The panel doing the graphing work. */</color>
    <color=#66d9ef>private</color> <color=#66d9ef>final</color> <color=#f8f8f2>PlotterPanel</color> <color=#f8f8f2>plotterPanel</color><color=#f8f8f2>;</color>

    <color=#66d9ef>private</color> <color=#66d9ef>final</color> <color=#f8f8f2>ObjectName</color> <color=#f8f8f2>bean</color><color=#f8f8f2>;</color>
    <color=#66d9ef>private</color> <color=#66d9ef>final</color> <color=#f8f8f2>String</color> <color=#f8f8f2>stats</color><color=#f8f8f2>;</color>

    <color=#66d9ef>public</color> <color=#a6e22e>GraphFrame</color><color=#f8f8f2>(</color><color=#f8f8f2>ObjectName</color> <color=#f8f8f2>beanName</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color> <color=#f8f8f2>statsName</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>super</color><color=#f8f8f2>(</color><color=#f8f8f2>statsName</color><color=#f8f8f2>.</color><color=#a6e22e>trim</color><color=#f8f8f2>()</color> <color=#f92672>+</color> <color=#e6db74>" for "</color> <color=#f92672>+</color> <color=#f8f8f2>beanName</color><color=#f8f8f2>.</color><color=#a6e22e>toString</color><color=#f8f8f2>());</color>
      <color=#f8f8f2>bean</color> <color=#f92672>=</color> <color=#f8f8f2>beanName</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>stats</color> <color=#f92672>=</color> <color=#f8f8f2>statsName</color><color=#f8f8f2>.</color><color=#a6e22e>trim</color><color=#f8f8f2>();</color>
      <color=#f8f8f2>setLayout</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>BorderLayout</color><color=#f8f8f2>(</color><color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>));</color>
      <color=#f8f8f2>setSize</color><color=#f8f8f2>(</color><color=#ae81ff>800</color><color=#f8f8f2>,</color> <color=#ae81ff>400</color><color=#f8f8f2>);</color>

      <color=#75715e>/* Add TimeComboBox and PlotterPanel to the frame. */</color>
      <color=#f8f8f2>JPanel</color> <color=#f8f8f2>topPanel</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JPanel</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>BorderLayout</color><color=#f8f8f2>());</color>
      <color=#f8f8f2>JPanel</color> <color=#f8f8f2>controlPanel</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>JPanel</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>FlowLayout</color><color=#f8f8f2>(</color><color=#f8f8f2>FlowLayout</color><color=#f8f8f2>.</color><color=#a6e22e>CENTER</color><color=#f8f8f2>,</color> <color=#ae81ff>20</color><color=#f8f8f2>,</color> <color=#ae81ff>5</color><color=#f8f8f2>));</color>
      <color=#f8f8f2>controlPanel</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#66d9ef>new</color> <color=#f8f8f2>JLabel</color><color=#f8f8f2>(</color><color=#e6db74>"Time Range:"</color><color=#f8f8f2>));</color>
      <color=#f8f8f2>plotterPanel</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>PlotterPanel</color><color=#f8f8f2>(</color><color=#f8f8f2>stats</color><color=#f8f8f2>,</color> <color=#f8f8f2>Unit</color><color=#f8f8f2>.</color><color=#a6e22e>NONE</color><color=#f8f8f2>,</color> <color=#66d9ef>false</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>plotterPanel</color><color=#f8f8f2>.</color><color=#a6e22e>getPlotter</color><color=#f8f8f2>().</color><color=#a6e22e>createSequence</color><color=#f8f8f2>(</color><color=#f8f8f2>stats</color><color=#f8f8f2>,</color> <color=#f8f8f2>stats</color><color=#f8f8f2>,</color> <color=#f8f8f2>statsColor</color><color=#f8f8f2>,</color> <color=#66d9ef>true</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>TimeComboBox</color> <color=#f8f8f2>timeComboBox</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>TimeComboBox</color><color=#f8f8f2>(</color><color=#f8f8f2>plotterPanel</color><color=#f8f8f2>.</color><color=#a6e22e>getPlotter</color><color=#f8f8f2>());</color>
      <color=#f8f8f2>controlPanel</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#f8f8f2>timeComboBox</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>topPanel</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#f8f8f2>controlPanel</color><color=#f8f8f2>,</color> <color=#f8f8f2>BorderLayout</color><color=#f8f8f2>.</color><color=#a6e22e>CENTER</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>add</color><color=#f8f8f2>(</color><color=#f8f8f2>topPanel</color><color=#f8f8f2>,</color> <color=#f8f8f2>BorderLayout</color><color=#f8f8f2>.</color><color=#a6e22e>NORTH</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>add</color><color=#f8f8f2>(</color><color=#f8f8f2>plotterPanel</color><color=#f8f8f2>,</color> <color=#f8f8f2>BorderLayout</color><color=#f8f8f2>.</color><color=#a6e22e>CENTER</color><color=#f8f8f2>);</color>

      <color=#75715e>/*</color>
<color=#75715e>       * When we click the close button, it would dispose the frame and</color>
<color=#75715e>       * if the connection is alive, remove the frame in the frame list.</color>
<color=#75715e>       */</color>
      <color=#f8f8f2>addWindowListener</color><color=#f8f8f2>(</color>
          <color=#66d9ef>new</color> <color=#f8f8f2>java</color><color=#f8f8f2>.</color><color=#a6e22e>awt</color><color=#f8f8f2>.</color><color=#a6e22e>event</color><color=#f8f8f2>.</color><color=#a6e22e>WindowAdapter</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
            <color=#a6e22e>@Override</color>
            <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>windowClosing</color><color=#f8f8f2>(</color><color=#f8f8f2>java</color><color=#f8f8f2>.</color><color=#a6e22e>awt</color><color=#f8f8f2>.</color><color=#a6e22e>event</color><color=#f8f8f2>.</color><color=#a6e22e>WindowEvent</color> <color=#f8f8f2>evt</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
              <color=#f8f8f2>setVisible</color><color=#f8f8f2>(</color><color=#66d9ef>false</color><color=#f8f8f2>);</color>
              <color=#f8f8f2>dispose</color><color=#f8f8f2>();</color>
              <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>JEStats</color><color=#f8f8f2>.</color><color=#a6e22e>getConnection</color><color=#f8f8f2>()</color> <color=#f92672>!=</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
                <color=#f8f8f2>removeGraphFrame</color><color=#f8f8f2>(</color><color=#f8f8f2>bean</color><color=#f8f8f2>,</color> <color=#f8f8f2>stats</color><color=#f8f8f2>);</color>
              <color=#f8f8f2>}</color>
            <color=#f8f8f2>}</color>
          <color=#f8f8f2>});</color>
      <color=#f8f8f2>setVisible</color><color=#f8f8f2>(</color><color=#66d9ef>true</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#f8f8f2>ObjectName</color> <color=#a6e22e>getBeanName</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#f8f8f2>bean</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#f8f8f2>String</color> <color=#a6e22e>getStatsName</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#f8f8f2>stats</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/*</color>
<color=#75715e>     * When use the PlotterPanel, we only need to write data into it.</color>
<color=#75715e>     */</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>writeData</color><color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>map</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>Map</color><color=#f8f8f2>.</color><color=#a6e22e>Entry</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>entry</color> <color=#f8f8f2>:</color> <color=#f8f8f2>map</color><color=#f8f8f2>.</color><color=#a6e22e>entrySet</color><color=#f8f8f2>())</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>().</color><color=#a6e22e>indexOf</color><color=#f8f8f2>(</color><color=#e6db74>":"</color><color=#f8f8f2>)</color> <color=#f92672>></color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>String</color> <color=#f8f8f2>realKey</color> <color=#f92672>=</color> <color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>().</color><color=#a6e22e>substring</color><color=#f8f8f2>(</color><color=#ae81ff>0</color><color=#f8f8f2>,</color> <color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getKey</color><color=#f8f8f2>().</color><color=#a6e22e>indexOf</color><color=#f8f8f2>(</color><color=#e6db74>":"</color><color=#f8f8f2>)).</color><color=#a6e22e>trim</color><color=#f8f8f2>();</color>

          <color=#75715e>/*</color>
<color=#75715e>           * The following three stats can't convert to long, so</color>
<color=#75715e>           * ignore them. Also, some values have "," inside, need to</color>
<color=#75715e>           * remove it away.</color>
<color=#75715e>           */</color>
          <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>stats</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#f8f8f2>realKey</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
            <color=#f8f8f2>String</color> <color=#f8f8f2>value</color> <color=#f92672>=</color> <color=#f8f8f2>getParsedValue</color><color=#f8f8f2>(</color><color=#f8f8f2>entry</color><color=#f8f8f2>.</color><color=#a6e22e>getValue</color><color=#f8f8f2>());</color>
            <color=#f8f8f2>plotterPanel</color><color=#f8f8f2>.</color><color=#a6e22e>getPlotter</color><color=#f8f8f2>().</color><color=#a6e22e>addValues</color><color=#f8f8f2>(</color><color=#f8f8f2>System</color><color=#f8f8f2>.</color><color=#a6e22e>currentTimeMillis</color><color=#f8f8f2>(),</color> <color=#f8f8f2>Long</color><color=#f8f8f2>.</color><color=#a6e22e>valueOf</color><color=#f8f8f2>(</color><color=#f8f8f2>value</color><color=#f8f8f2>));</color>
          <color=#f8f8f2>}</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#66d9ef>private</color> <color=#66d9ef>class</color> <color=#a6e22e>StatsCollectionTask</color> <color=#66d9ef>extends</color> <color=#f8f8f2>TimerTask</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>private</color> <color=#66d9ef>final</color> <color=#66d9ef>boolean</color> <color=#f8f8f2>writeLogAndGraphing</color><color=#f8f8f2>;</color>

    <color=#66d9ef>public</color> <color=#a6e22e>StatsCollectionTask</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>this</color><color=#f8f8f2>(</color><color=#66d9ef>true</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>public</color> <color=#a6e22e>StatsCollectionTask</color><color=#f8f8f2>(</color><color=#66d9ef>boolean</color> <color=#f8f8f2>writeLogAndGraphing</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>this</color><color=#f8f8f2>.</color><color=#a6e22e>writeLogAndGraphing</color> <color=#f92672>=</color> <color=#f8f8f2>writeLogAndGraphing</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#a6e22e>@Override</color>
    <color=#66d9ef>public</color> <color=#66d9ef>void</color> <color=#a6e22e>run</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>List</color><color=#f92672><</color><color=#f8f8f2>ObjectName</color><color=#f92672>></color> <color=#f8f8f2>objectNames</color> <color=#f92672>=</color> <color=#f8f8f2>getBeansNames</color><color=#f8f8f2>();</color>

      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>objectNames</color> <color=#f92672>==</color> <color=#66d9ef>null</color> <color=#f92672>||</color> <color=#f8f8f2>objectNames</color><color=#f8f8f2>.</color><color=#a6e22e>size</color><color=#f8f8f2>()</color> <color=#f92672>==</color> <color=#ae81ff>0</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>return</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>}</color>

      <color=#75715e>/*</color>
<color=#75715e>       * Reset the object names. Make sure to do ths assignment</color>
<color=#75715e>       * atomically, because other threads may read savedObjectNames.</color>
<color=#75715e>       */</color>
      <color=#f8f8f2>savedObjectNames</color> <color=#f92672>=</color> <color=#f8f8f2>objectNames</color><color=#f8f8f2>;</color>

      <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>ObjectName</color> <color=#f8f8f2>objectName</color> <color=#f8f8f2>:</color> <color=#f8f8f2>objectNames</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>statValues</color> <color=#f92672>=</color> <color=#f8f8f2>generateStats</color><color=#f8f8f2>(</color><color=#f8f8f2>objectName</color><color=#f8f8f2>);</color>

        <color=#75715e>/* Copy and save stats and ObjectNames for tab refreshing. */</color>
        <color=#f8f8f2>Map</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color> <color=#f8f8f2>copiedStats</color> <color=#f92672>=</color> <color=#66d9ef>new</color> <color=#f8f8f2>LinkedHashMap</color><color=#f92672><</color><color=#f8f8f2>String</color><color=#f8f8f2>,</color> <color=#f8f8f2>String</color><color=#f92672>></color><color=#f8f8f2>();</color>
        <color=#f8f8f2>copiedStats</color><color=#f8f8f2>.</color><color=#a6e22e>putAll</color><color=#f8f8f2>(</color><color=#f8f8f2>statValues</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>savedStats</color><color=#f8f8f2>.</color><color=#a6e22e>put</color><color=#f8f8f2>(</color><color=#f8f8f2>objectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>copiedStats</color><color=#f8f8f2>);</color>

        <color=#75715e>/* Write log and update graphing for this MBean. */</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>writeLogAndGraphing</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#f8f8f2>writeLogAndGraphing</color><color=#f8f8f2>(</color><color=#f8f8f2>objectName</color><color=#f8f8f2>,</color> <color=#f8f8f2>statValues</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
      <color=#f8f8f2>newSwingWorker</color><color=#f8f8f2>().</color><color=#a6e22e>execute</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>
<color=#f8f8f2>}</color>