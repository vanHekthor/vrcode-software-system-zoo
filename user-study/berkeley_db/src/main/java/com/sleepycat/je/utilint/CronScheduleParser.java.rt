<color=#75715e>/*-</color>
<color=#75715e> * Copyright (C) 2002, 2017, Oracle and/or its affiliates. All rights reserved.</color>
<color=#75715e> *</color>
<color=#75715e> * This file was distributed by Oracle as part of a version of Oracle Berkeley</color>
<color=#75715e> * DB Java Edition made available at:</color>
<color=#75715e> *</color>
<color=#75715e> * http://www.oracle.com/technetwork/database/database-technologies/berkeleydb/downloads/index.html</color>
<color=#75715e> *</color>
<color=#75715e> * Please see the LICENSE file included in the top-level directory of the</color>
<color=#75715e> * appropriate version of Oracle Berkeley DB Java Edition for a copy of the</color>
<color=#75715e> * license and additional information.</color>
<color=#75715e> */</color>

<color=#f92672>package</color> <color=#f8f8f2>com.sleepycat.je.utilint</color><color=#f8f8f2>;</color>

<color=#f92672>import</color> <color=#f8f8f2>com.sleepycat.je.EnvironmentConfig</color><color=#f8f8f2>;</color>

<color=#f92672>import</color> <color=#f8f8f2>java.util.Calendar</color><color=#f8f8f2>;</color>

<color=#75715e>/**</color>
<color=#75715e> * This class aims to parser {@link EnvironmentConfig#VERIFY_SCHEDULE} which is a cron-style</color>
<color=#75715e> * expression.</color>
<color=#75715e> *</color>
<color=#75715e> * <p>The cron-style expression can be very complicate, for example containing *, ?, / and so on.</color>
<color=#75715e> * But now we only handle the simplest situation. We will continually add the code to handle more</color>
<color=#75715e> * complicated situations if needed in the future.</color>
<color=#75715e> *</color>
<color=#75715e> * <p>Constraint for current version:</color>
<color=#75715e> * <li>The standard string should be "* * * * *", i.e. there are 5 fields and 4 blank space</color>
<color=#75715e> * <li>Each filed can only be an int value or *.</color>
<color=#75715e> * <li>Can not specify dayOfMonth and dayOfWeek simultaneously</color>
<color=#75715e> * <li>Can not specify dayOfMonth or month. Because if so, we will need to consider the days of that</color>
<color=#75715e> *     month and furthermore whether that year is leap year for February. The difference of the</color>
<color=#75715e> *     number of days for each month make it complicate to calculate the delay and the interval.</color>
<color=#75715e> * <li>If the field is an int value, then the value should be in the correct range, i.e.</color>
<color=#75715e> *     minute(0-59), hour(0-23), dayOfWeek(0-6), where dayOfMonth(1-31) and month(1-12) can not be</color>
<color=#75715e> *     specified.</color>
<color=#75715e> * <li>If dayOfWeek is a concrete value, then minute or hour can not be '*'. For example, we can not</color>
<color=#75715e> *     use "0 * * * 5", i.e. we can not specify that we want the verifier to run every hour only on</color>
<color=#75715e> *     Friday. Because it may be complicate to calculate the stop time point and at least we need to</color>
<color=#75715e> *     add a variable.</color>
<color=#75715e> * <li>The same reason, if hour is a concrete value, minute can not be '*'.</color>
<color=#75715e> */</color>
<color=#66d9ef>public</color> <color=#66d9ef>class</color> <color=#a6e22e>CronScheduleParser</color> <color=#f8f8f2>{</color>
  <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#f8f8f2>String</color> <color=#f8f8f2>errorMess</color> <color=#f92672>=</color>
      <color=#e6db74>"The style of "</color> <color=#f92672>+</color> <color=#f8f8f2>EnvironmentConfig</color><color=#f8f8f2>.</color><color=#a6e22e>VERIFY_SCHEDULE</color> <color=#f92672>+</color> <color=#e6db74>" is not right. "</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#66d9ef>int</color> <color=#f8f8f2>spaceNum</color> <color=#f92672>=</color> <color=#ae81ff>4</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#66d9ef>int</color> <color=#f8f8f2>fieldNum</color> <color=#f92672>=</color> <color=#ae81ff>5</color><color=#f8f8f2>;</color>

  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#f8f8f2>String</color> <color=#f8f8f2>nullCons</color> <color=#f92672>=</color> <color=#e6db74>"The argument should not be null."</color><color=#f8f8f2>;</color>
  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#f8f8f2>String</color> <color=#f8f8f2>cons1</color> <color=#f92672>=</color>
      <color=#e6db74>"The standard string should be '* * * * *', i.e. there are "</color>
          <color=#f92672>+</color> <color=#f8f8f2>fieldNum</color>
          <color=#f92672>+</color> <color=#e6db74>"fields and "</color>
          <color=#f92672>+</color> <color=#f8f8f2>spaceNum</color>
          <color=#f92672>+</color> <color=#e6db74>"blank space."</color><color=#f8f8f2>;</color>
  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#f8f8f2>String</color> <color=#f8f8f2>cons2</color> <color=#f92672>=</color> <color=#e6db74>"Each filed can only be a int value or *."</color><color=#f8f8f2>;</color>
  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#f8f8f2>String</color> <color=#f8f8f2>cons3</color> <color=#f92672>=</color> <color=#e6db74>"Can not specify dayOfWeek and dayOfMonth simultaneously."</color><color=#f8f8f2>;</color>
  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#f8f8f2>String</color> <color=#f8f8f2>cons4</color> <color=#f92672>=</color> <color=#e6db74>"Can not specify dayOfMonth or month."</color><color=#f8f8f2>;</color>
  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#f8f8f2>String</color> <color=#f8f8f2>cons5</color> <color=#f92672>=</color> <color=#e6db74>"Range Error: "</color><color=#f8f8f2>;</color>
  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#f8f8f2>String</color> <color=#f8f8f2>cons6</color> <color=#f92672>=</color>
      <color=#e6db74>"If the day of the week is a concrete day, then the minute and the"</color>
          <color=#f92672>+</color> <color=#e6db74>"hour should also be concrete."</color><color=#f8f8f2>;</color>
  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#f8f8f2>String</color> <color=#f8f8f2>cons7</color> <color=#f92672>=</color> <color=#e6db74>"If the hour is a concrete day, then minute should also be concrete"</color><color=#f8f8f2>;</color>

  <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#66d9ef>long</color> <color=#f8f8f2>millsOneDay</color> <color=#f92672>=</color> <color=#ae81ff>24</color> <color=#f92672>*</color> <color=#ae81ff>60</color> <color=#f92672>*</color> <color=#ae81ff>60</color> <color=#f92672>*</color> <color=#ae81ff>1000</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#66d9ef>long</color> <color=#f8f8f2>millsOneHour</color> <color=#f92672>=</color> <color=#ae81ff>60</color> <color=#f92672>*</color> <color=#ae81ff>60</color> <color=#f92672>*</color> <color=#ae81ff>1000</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#66d9ef>static</color> <color=#66d9ef>final</color> <color=#66d9ef>long</color> <color=#f8f8f2>millsOneMinute</color> <color=#f92672>=</color> <color=#ae81ff>60</color> <color=#f92672>*</color> <color=#ae81ff>1000</color><color=#f8f8f2>;</color>

  <color=#66d9ef>private</color> <color=#66d9ef>long</color> <color=#f8f8f2>delay</color><color=#f8f8f2>;</color>
  <color=#66d9ef>private</color> <color=#66d9ef>long</color> <color=#f8f8f2>interval</color><color=#f8f8f2>;</color>

  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#f8f8f2>Calendar</color> <color=#f8f8f2>curCal</color><color=#f8f8f2>;</color>
  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#f8f8f2>TestHook</color><color=#f92672><</color><color=#f8f8f2>Void</color><color=#f92672>></color> <color=#f8f8f2>setCurCalHook</color><color=#f8f8f2>;</color>

  <color=#75715e>/**</color>
<color=#75715e>   * The construction function will first validate the cron-style string and then parser the string</color>
<color=#75715e>   * to get the interval of the cron-style task represented by the string and to get the</color>
<color=#75715e>   * wait-time(delay) to first time start the cron-style task.</color>
<color=#75715e>   *</color>
<color=#75715e>   * @param cronSchedule The cron-style string.</color>
<color=#75715e>   */</color>
  <color=#66d9ef>public</color> <color=#a6e22e>CronScheduleParser</color><color=#f8f8f2>(</color><color=#f8f8f2>String</color> <color=#f8f8f2>cronSchedule</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#f8f8f2>validate</color><color=#f8f8f2>(</color><color=#f8f8f2>cronSchedule</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>parser</color><color=#f8f8f2>(</color><color=#f8f8f2>cronSchedule</color><color=#f8f8f2>);</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/**</color>
<color=#75715e>   * Check whether two cron-style strings are same, i.e. both are null or the content of the two</color>
<color=#75715e>   * strings are same.</color>
<color=#75715e>   *</color>
<color=#75715e>   * @param cronvSchedule1 The first cron-style string.</color>
<color=#75715e>   * @param cronSchedule2 The second cron-style string.</color>
<color=#75715e>   * @return true if the two cron-style strings are same.</color>
<color=#75715e>   */</color>
  <color=#66d9ef>public</color> <color=#66d9ef>static</color> <color=#66d9ef>boolean</color> <color=#a6e22e>checkSame</color><color=#f8f8f2>(</color><color=#66d9ef>final</color> <color=#f8f8f2>String</color> <color=#f8f8f2>cronvSchedule1</color><color=#f8f8f2>,</color> <color=#66d9ef>final</color> <color=#f8f8f2>String</color> <color=#f8f8f2>cronSchedule2</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>cronvSchedule1</color> <color=#f92672>==</color> <color=#66d9ef>null</color> <color=#f92672>&&</color> <color=#f8f8f2>cronSchedule2</color> <color=#f92672>==</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#66d9ef>true</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>cronvSchedule1</color> <color=#f92672>==</color> <color=#66d9ef>null</color> <color=#f92672>||</color> <color=#f8f8f2>cronSchedule2</color> <color=#f92672>==</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>return</color> <color=#66d9ef>false</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

      <color=#66d9ef>return</color> <color=#f8f8f2>cronvSchedule1</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#f8f8f2>cronSchedule2</color><color=#f8f8f2>);</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/**</color>
<color=#75715e>   * @return delay The wait-time to first time start the cron-style task represented by the</color>
<color=#75715e>   *     cron-style string.</color>
<color=#75715e>   */</color>
  <color=#66d9ef>public</color> <color=#66d9ef>long</color> <color=#a6e22e>getDelayTime</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>return</color> <color=#f8f8f2>delay</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#75715e>/** @return interval The interval of the cron-style task represented by the cron-style string. */</color>
  <color=#66d9ef>public</color> <color=#66d9ef>long</color> <color=#a6e22e>getInterval</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>return</color> <color=#f8f8f2>interval</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>assertDelay</color><color=#f8f8f2>()</color> <color=#f8f8f2>{</color>
    <color=#66d9ef>assert</color> <color=#f8f8f2>delay</color> <color=#f92672>>=</color> <color=#ae81ff>0</color> <color=#f8f8f2>:</color> <color=#e6db74>"Delay is: "</color> <color=#f92672>+</color> <color=#f8f8f2>delay</color> <color=#f92672>+</color> <color=#e6db74>"; interval is: "</color> <color=#f92672>+</color> <color=#f8f8f2>interval</color><color=#f8f8f2>;</color>
  <color=#f8f8f2>}</color>

  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>parser</color><color=#f8f8f2>(</color><color=#66d9ef>final</color> <color=#f8f8f2>String</color> <color=#f8f8f2>cronSchedule</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
    <color=#75715e>/* Get or Set the current calendar. */</color>
    <color=#f8f8f2>curCal</color> <color=#f92672>=</color> <color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>getInstance</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>curCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>SECOND</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>curCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>MILLISECOND</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>);</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>setCurCalHook</color> <color=#f92672>!=</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>setCurCalHook</color><color=#f8f8f2>.</color><color=#a6e22e>doHook</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>}</color>
    <color=#66d9ef>int</color> <color=#f8f8f2>curDayOfWeek</color> <color=#f92672>=</color> <color=#f8f8f2>curCal</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>DAY_OF_WEEK</color><color=#f8f8f2>);</color>
    <color=#66d9ef>int</color> <color=#f8f8f2>curHour</color> <color=#f92672>=</color> <color=#f8f8f2>curCal</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>HOUR_OF_DAY</color><color=#f8f8f2>);</color>
    <color=#66d9ef>int</color> <color=#f8f8f2>curMinute</color> <color=#f92672>=</color> <color=#f8f8f2>curCal</color><color=#f8f8f2>.</color><color=#a6e22e>get</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>MINUTE</color><color=#f8f8f2>);</color>

    <color=#75715e>/*</color>
<color=#75715e>     * Previously, we use Calendar.getInstance() to initialize scheduleCal,</color>
<color=#75715e>     * which aims to let scheduleCal have some similar/same attributes</color>
<color=#75715e>     * with curCal, such as the day of the week. But we may use</color>
<color=#75715e>     * setCurCalHook.doHook to set curCal to be a future week, now</color>
<color=#75715e>     * using Calendar.getInstance() can not achieve the original purpose.</color>
<color=#75715e>     */</color>
    <color=#f8f8f2>Calendar</color> <color=#f8f8f2>scheduleCal</color> <color=#f92672>=</color> <color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>)</color> <color=#f8f8f2>curCal</color><color=#f8f8f2>.</color><color=#a6e22e>clone</color><color=#f8f8f2>();</color>
    <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>SECOND</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>MILLISECOND</color><color=#f8f8f2>,</color> <color=#ae81ff>0</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>String</color><color=#f92672>[]</color> <color=#f8f8f2>timeArray</color> <color=#f92672>=</color> <color=#f8f8f2>cronSchedule</color><color=#f8f8f2>.</color><color=#a6e22e>split</color><color=#f8f8f2>(</color><color=#e6db74>" "</color><color=#f8f8f2>);</color>

    <color=#75715e>/* dayofWeek is a concrete value. */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>4</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>interval</color> <color=#f92672>=</color> <color=#ae81ff>7</color> <color=#f92672>*</color> <color=#f8f8f2>millsOneDay</color><color=#f8f8f2>;</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>tmpDayOfWeek</color> <color=#f92672>=</color> <color=#f8f8f2>Integer</color><color=#f8f8f2>.</color><color=#a6e22e>valueOf</color><color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>4</color><color=#f92672>]</color><color=#f8f8f2>)</color> <color=#f92672>+</color> <color=#ae81ff>1</color><color=#f8f8f2>;</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>tmpHour</color> <color=#f92672>=</color> <color=#f8f8f2>Integer</color><color=#f8f8f2>.</color><color=#a6e22e>valueOf</color><color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>1</color><color=#f92672>]</color><color=#f8f8f2>);</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>tmpMinute</color> <color=#f92672>=</color> <color=#f8f8f2>Integer</color><color=#f8f8f2>.</color><color=#a6e22e>valueOf</color><color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>0</color><color=#f92672>]</color><color=#f8f8f2>);</color>

      <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>DAY_OF_WEEK</color><color=#f8f8f2>,</color> <color=#f8f8f2>tmpDayOfWeek</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>HOUR_OF_DAY</color><color=#f8f8f2>,</color> <color=#f8f8f2>tmpHour</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>MINUTE</color><color=#f8f8f2>,</color> <color=#f8f8f2>tmpMinute</color><color=#f8f8f2>);</color>

      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>tmpDayOfWeek</color> <color=#f92672><</color> <color=#f8f8f2>curDayOfWeek</color>
          <color=#f92672>||</color> <color=#f8f8f2>(</color><color=#f8f8f2>tmpDayOfWeek</color> <color=#f92672>==</color> <color=#f8f8f2>curDayOfWeek</color> <color=#f92672>&&</color> <color=#f8f8f2>tmpHour</color> <color=#f92672><</color> <color=#f8f8f2>curHour</color><color=#f8f8f2>)</color>
          <color=#f92672>||</color> <color=#f8f8f2>(</color><color=#f8f8f2>tmpDayOfWeek</color> <color=#f92672>==</color> <color=#f8f8f2>curDayOfWeek</color> <color=#f92672>&&</color> <color=#f8f8f2>tmpHour</color> <color=#f92672>==</color> <color=#f8f8f2>curHour</color> <color=#f92672>&&</color> <color=#f8f8f2>tmpMinute</color> <color=#f92672><</color> <color=#f8f8f2>curMinute</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
        <color=#75715e>/* add 7 days to set next week */</color>
        <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>DATE</color><color=#f8f8f2>,</color> <color=#ae81ff>7</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
      <color=#f8f8f2>delay</color> <color=#f92672>=</color> <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>getTimeInMillis</color><color=#f8f8f2>()</color> <color=#f92672>-</color> <color=#f8f8f2>curCal</color><color=#f8f8f2>.</color><color=#a6e22e>getTimeInMillis</color><color=#f8f8f2>();</color>

      <color=#f8f8f2>assertDelay</color><color=#f8f8f2>();</color>
      <color=#66d9ef>return</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>1</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>interval</color> <color=#f92672>=</color> <color=#f8f8f2>millsOneDay</color><color=#f8f8f2>;</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>tmpHour</color> <color=#f92672>=</color> <color=#f8f8f2>Integer</color><color=#f8f8f2>.</color><color=#a6e22e>valueOf</color><color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>1</color><color=#f92672>]</color><color=#f8f8f2>);</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>tmpMinute</color> <color=#f92672>=</color> <color=#f8f8f2>Integer</color><color=#f8f8f2>.</color><color=#a6e22e>valueOf</color><color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>0</color><color=#f92672>]</color><color=#f8f8f2>);</color>

      <color=#75715e>/*</color>
<color=#75715e>       * Guarantee that both dayOfWeek is same when dayOfWeek is * in</color>
<color=#75715e>       * cronSchedule.</color>
<color=#75715e>       */</color>
      <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>DAY_OF_WEEK</color><color=#f8f8f2>,</color> <color=#f8f8f2>curDayOfWeek</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>HOUR_OF_DAY</color><color=#f8f8f2>,</color> <color=#f8f8f2>tmpHour</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>MINUTE</color><color=#f8f8f2>,</color> <color=#f8f8f2>tmpMinute</color><color=#f8f8f2>);</color>

      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>tmpHour</color> <color=#f92672><</color> <color=#f8f8f2>curHour</color> <color=#f92672>||</color> <color=#f8f8f2>(</color><color=#f8f8f2>tmpHour</color> <color=#f92672>==</color> <color=#f8f8f2>curHour</color> <color=#f92672>&&</color> <color=#f8f8f2>tmpMinute</color> <color=#f92672><</color> <color=#f8f8f2>curMinute</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
        <color=#75715e>/* to set next day */</color>
        <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>DATE</color><color=#f8f8f2>,</color> <color=#ae81ff>1</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
      <color=#f8f8f2>delay</color> <color=#f92672>=</color> <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>getTimeInMillis</color><color=#f8f8f2>()</color> <color=#f92672>-</color> <color=#f8f8f2>curCal</color><color=#f8f8f2>.</color><color=#a6e22e>getTimeInMillis</color><color=#f8f8f2>();</color>

      <color=#f8f8f2>assertDelay</color><color=#f8f8f2>();</color>
      <color=#66d9ef>return</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>0</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>interval</color> <color=#f92672>=</color> <color=#f8f8f2>millsOneHour</color><color=#f8f8f2>;</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>tmpMinute</color> <color=#f92672>=</color> <color=#f8f8f2>Integer</color><color=#f8f8f2>.</color><color=#a6e22e>valueOf</color><color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>0</color><color=#f92672>]</color><color=#f8f8f2>);</color>

      <color=#75715e>/*</color>
<color=#75715e>       * Guarantee that both dayOfWeek and both hour are same whe</color>
<color=#75715e>       * dayOfWeek and hour are * in cronSchedule.</color>
<color=#75715e>       */</color>
      <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>DAY_OF_WEEK</color><color=#f8f8f2>,</color> <color=#f8f8f2>curDayOfWeek</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>HOUR_OF_DAY</color><color=#f8f8f2>,</color> <color=#f8f8f2>curHour</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>set</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>MINUTE</color><color=#f8f8f2>,</color> <color=#f8f8f2>tmpMinute</color><color=#f8f8f2>);</color>

      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>tmpMinute</color> <color=#f92672><</color> <color=#f8f8f2>curMinute</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#75715e>/* to set next hour */</color>
        <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>add</color><color=#f8f8f2>(</color><color=#f8f8f2>Calendar</color><color=#f8f8f2>.</color><color=#a6e22e>HOUR</color><color=#f8f8f2>,</color> <color=#ae81ff>1</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
      <color=#f8f8f2>delay</color> <color=#f92672>=</color> <color=#f8f8f2>scheduleCal</color><color=#f8f8f2>.</color><color=#a6e22e>getTimeInMillis</color><color=#f8f8f2>()</color> <color=#f92672>-</color> <color=#f8f8f2>curCal</color><color=#f8f8f2>.</color><color=#a6e22e>getTimeInMillis</color><color=#f8f8f2>();</color>

      <color=#f8f8f2>assertDelay</color><color=#f8f8f2>();</color>
      <color=#66d9ef>return</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>0</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#f8f8f2>interval</color> <color=#f92672>=</color> <color=#f8f8f2>millsOneMinute</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>delay</color> <color=#f92672>=</color> <color=#ae81ff>0</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>assertDelay</color><color=#f8f8f2>();</color>
      <color=#66d9ef>return</color><color=#f8f8f2>;</color>
    <color=#f8f8f2>}</color>
  <color=#f8f8f2>}</color>

  <color=#66d9ef>private</color> <color=#66d9ef>void</color> <color=#a6e22e>validate</color><color=#f8f8f2>(</color><color=#66d9ef>final</color> <color=#f8f8f2>String</color> <color=#f8f8f2>cronSchedule</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>cronSchedule</color> <color=#f92672>==</color> <color=#66d9ef>null</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>throw</color> <color=#66d9ef>new</color> <color=#f8f8f2>IllegalArgumentException</color><color=#f8f8f2>(</color><color=#f8f8f2>errorMess</color> <color=#f92672>+</color> <color=#f8f8f2>nullCons</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/*</color>
<color=#75715e>     * Constraint 1: The standard string should be "* * * * *", i.e.</color>
<color=#75715e>     * there are 5 fields and 4 blank space.</color>
<color=#75715e>     */</color>
    <color=#66d9ef>int</color> <color=#f8f8f2>spaceCount</color> <color=#f92672>=</color> <color=#ae81ff>0</color><color=#f8f8f2>;</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#66d9ef>int</color> <color=#f8f8f2>i</color> <color=#f92672>=</color> <color=#ae81ff>0</color><color=#f8f8f2>;</color> <color=#f8f8f2>i</color> <color=#f92672><</color> <color=#f8f8f2>cronSchedule</color><color=#f8f8f2>.</color><color=#a6e22e>length</color><color=#f8f8f2>();</color> <color=#f8f8f2>i</color><color=#f92672>++</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>char</color> <color=#f8f8f2>c</color> <color=#f92672>=</color> <color=#f8f8f2>cronSchedule</color><color=#f8f8f2>.</color><color=#a6e22e>charAt</color><color=#f8f8f2>(</color><color=#f8f8f2>i</color><color=#f8f8f2>);</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>c</color> <color=#f92672>==</color> <color=#ae81ff>32</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
          <color=#75715e>/* The ASCII value of ' ' is 32. */</color>
        <color=#f8f8f2>spaceCount</color><color=#f92672>++</color><color=#f8f8f2>;</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>spaceCount</color> <color=#f92672>!=</color> <color=#f8f8f2>spaceNum</color> <color=#f92672>||</color> <color=#f8f8f2>cronSchedule</color><color=#f8f8f2>.</color><color=#a6e22e>split</color><color=#f8f8f2>(</color><color=#e6db74>" "</color><color=#f8f8f2>).</color><color=#a6e22e>length</color> <color=#f92672>!=</color> <color=#f8f8f2>fieldNum</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>throw</color> <color=#66d9ef>new</color> <color=#f8f8f2>IllegalArgumentException</color><color=#f8f8f2>(</color><color=#f8f8f2>errorMess</color> <color=#f92672>+</color> <color=#f8f8f2>cons1</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#f8f8f2>String</color><color=#f92672>[]</color> <color=#f8f8f2>timeArray</color> <color=#f92672>=</color> <color=#f8f8f2>cronSchedule</color><color=#f8f8f2>.</color><color=#a6e22e>split</color><color=#f8f8f2>(</color><color=#e6db74>" "</color><color=#f8f8f2>);</color>
    <color=#75715e>/*</color>
<color=#75715e>     * Constraint 2: Each filed can only be an int value or *.</color>
<color=#75715e>     */</color>
    <color=#66d9ef>for</color> <color=#f8f8f2>(</color><color=#f8f8f2>String</color> <color=#f8f8f2>str</color> <color=#f8f8f2>:</color> <color=#f8f8f2>timeArray</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>try</color> <color=#f8f8f2>{</color>
        <color=#f8f8f2>Integer</color><color=#f8f8f2>.</color><color=#a6e22e>valueOf</color><color=#f8f8f2>(</color><color=#f8f8f2>str</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color> <color=#66d9ef>catch</color> <color=#f8f8f2>(</color><color=#f8f8f2>NumberFormatException</color> <color=#f8f8f2>e</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>str</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
          <color=#66d9ef>throw</color> <color=#66d9ef>new</color> <color=#f8f8f2>IllegalArgumentException</color><color=#f8f8f2>(</color><color=#f8f8f2>errorMess</color> <color=#f92672>+</color> <color=#f8f8f2>cons2</color><color=#f8f8f2>);</color>
        <color=#f8f8f2>}</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/*</color>
<color=#75715e>     * Constraint 3: Can not specify dayOfMonth and dayOfWeek</color>
<color=#75715e>     * simultaneously.</color>
<color=#75715e>     */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>2</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>)</color> <color=#f92672>&&</color> <color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>4</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>throw</color> <color=#66d9ef>new</color> <color=#f8f8f2>IllegalArgumentException</color><color=#f8f8f2>(</color><color=#f8f8f2>errorMess</color> <color=#f92672>+</color> <color=#f8f8f2>cons3</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/*</color>
<color=#75715e>     * Constraint 4: Can not specify dayOfMonth or month.</color>
<color=#75715e>     */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>2</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>)</color> <color=#f92672>||</color> <color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>3</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>throw</color> <color=#66d9ef>new</color> <color=#f8f8f2>IllegalArgumentException</color><color=#f8f8f2>(</color><color=#f8f8f2>errorMess</color> <color=#f92672>+</color> <color=#f8f8f2>cons4</color><color=#f8f8f2>);</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/*</color>
<color=#75715e>     * Constraint 5: If the field is a int value, then the value should</color>
<color=#75715e>     * be in the correct range.</color>
<color=#75715e>     */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>0</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>min</color> <color=#f92672>=</color> <color=#f8f8f2>Integer</color><color=#f8f8f2>.</color><color=#a6e22e>valueOf</color><color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>0</color><color=#f92672>]</color><color=#f8f8f2>);</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>min</color> <color=#f92672><</color> <color=#ae81ff>0</color> <color=#f92672>||</color> <color=#f8f8f2>min</color> <color=#f92672>></color> <color=#ae81ff>59</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>throw</color> <color=#66d9ef>new</color> <color=#f8f8f2>IllegalArgumentException</color><color=#f8f8f2>(</color><color=#f8f8f2>errorMess</color> <color=#f92672>+</color> <color=#f8f8f2>cons5</color> <color=#f92672>+</color> <color=#e6db74>"The minute should be (0-59)."</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>1</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>hour</color> <color=#f92672>=</color> <color=#f8f8f2>Integer</color><color=#f8f8f2>.</color><color=#a6e22e>valueOf</color><color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>1</color><color=#f92672>]</color><color=#f8f8f2>);</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>hour</color> <color=#f92672><</color> <color=#ae81ff>0</color> <color=#f92672>||</color> <color=#f8f8f2>hour</color> <color=#f92672>></color> <color=#ae81ff>23</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>throw</color> <color=#66d9ef>new</color> <color=#f8f8f2>IllegalArgumentException</color><color=#f8f8f2>(</color><color=#f8f8f2>errorMess</color> <color=#f92672>+</color> <color=#f8f8f2>cons5</color> <color=#f92672>+</color> <color=#e6db74>"The hour should be (0-23)."</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>4</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>int</color> <color=#f8f8f2>dayOfWeek</color> <color=#f92672>=</color> <color=#f8f8f2>Integer</color><color=#f8f8f2>.</color><color=#a6e22e>valueOf</color><color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>4</color><color=#f92672>]</color><color=#f8f8f2>);</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>dayOfWeek</color> <color=#f92672><</color> <color=#ae81ff>0</color> <color=#f92672>||</color> <color=#f8f8f2>dayOfWeek</color> <color=#f92672>></color> <color=#ae81ff>6</color><color=#f8f8f2>)</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>throw</color> <color=#66d9ef>new</color> <color=#f8f8f2>IllegalArgumentException</color><color=#f8f8f2>(</color>
            <color=#f8f8f2>errorMess</color> <color=#f92672>+</color> <color=#f8f8f2>cons5</color> <color=#f92672>+</color> <color=#e6db74>"The day of the week should"</color> <color=#f92672>+</color> <color=#e6db74>"be (0-6)."</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/*</color>
<color=#75715e>     * Constraint 6: If dayOfWeek is a concrete value, then minute or</color>
<color=#75715e>     * hour can not be '*'.</color>
<color=#75715e>     */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>4</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>0</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>)</color> <color=#f92672>||</color> <color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>1</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>throw</color> <color=#66d9ef>new</color> <color=#f8f8f2>IllegalArgumentException</color><color=#f8f8f2>(</color><color=#f8f8f2>errorMess</color> <color=#f92672>+</color> <color=#f8f8f2>cons6</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/*</color>
<color=#75715e>     * Constraint 7: If hour is a concrete value, minute can not be '*'.</color>
<color=#75715e>     */</color>
    <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f92672>!</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>1</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
      <color=#66d9ef>if</color> <color=#f8f8f2>(</color><color=#f8f8f2>timeArray</color><color=#f92672>[</color><color=#ae81ff>0</color><color=#f92672>]</color><color=#f8f8f2>.</color><color=#a6e22e>equals</color><color=#f8f8f2>(</color><color=#e6db74>"*"</color><color=#f8f8f2>))</color> <color=#f8f8f2>{</color>
        <color=#66d9ef>throw</color> <color=#66d9ef>new</color> <color=#f8f8f2>IllegalArgumentException</color><color=#f8f8f2>(</color><color=#f8f8f2>errorMess</color> <color=#f92672>+</color> <color=#f8f8f2>cons7</color><color=#f8f8f2>);</color>
      <color=#f8f8f2>}</color>
    <color=#f8f8f2>}</color>

    <color=#75715e>/*</color>
<color=#75715e>    if (timeArray[0].equals("*")) {</color>
<color=#75715e>        throw new IllegalArgumentException</color>
<color=#75715e>            (errorMes + "User specify the verifier to run every minute." +</color>
<color=#75715e>            "This is too frequent.");</color>
<color=#75715e>    }</color>
<color=#75715e>    */</color>
  <color=#f8f8f2>}</color>
<color=#f8f8f2>}</color>